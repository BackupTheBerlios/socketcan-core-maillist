<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> at91_can flooding error frames
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20at91_can%20flooding%20error%20frames&In-Reply-To=%3C68FBE0F3CE97264395875AC1C468F22C1F3944%40mail03.cyberswitching.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003608.html">
   <LINK REL="Next"  HREF="003610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>at91_can flooding error frames</H1>
    <B>Chris Verges</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20at91_can%20flooding%20error%20frames&In-Reply-To=%3C68FBE0F3CE97264395875AC1C468F22C1F3944%40mail03.cyberswitching.local%3E"
       TITLE="at91_can flooding error frames">chrisv at cyberswitching.com
       </A><BR>
    <I>Sat Dec  5 00:14:15 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003608.html">at91_can flooding error frames
</A></li>
        <LI>Next message: <A HREF="003610.html">at91_can flooding error frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3609">[ date ]</a>
              <a href="thread.html#3609">[ thread ]</a>
              <a href="subject.html#3609">[ subject ]</a>
              <a href="author.html#3609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wolfgang,

&gt;<i> Has it worked with that board already in the past?
</I>
Both good and bad news on this.  The good news: at91_can.c has worked on
an earlier rev of this board.  The bad news: someone upgraded various
components of the software around the same time we did a hardware rev,
and I'm the first to start testing CAN with both the new software and
new hardware.  (No significant changes to the CAN traces on the
hardware, however, so it's very low risk.)

We're running Linux 2.6.28.10, patched with SocketCAN r1094 from SVN.  I
just re-patched from SocketCAN r1094 today to verify that we have the
latest.  (r1095 is now out, but it is a fix for slcan.c.)

If I create a vcan0 interface, candump/cansend work just fine.  Using
can0 created by the at91_can.c driver does not work, resulting in the
AERR messages.

Unfortunately, we can't simply roll back to the earlier version of
software due to upgrading our libc headers to v2.6.31.  (Would using
2.6.31 libc headers with a 2.6.28 kernel cause problems?  I can see
about upgrading to 2.6.31 kernel if needed, but that's a bit o' work.)

Any insights?

Thanks,
Chris

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003608.html">at91_can flooding error frames
</A></li>
	<LI>Next message: <A HREF="003610.html">at91_can flooding error frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3609">[ date ]</a>
              <a href="thread.html#3609">[ thread ]</a>
              <a href="subject.html#3609">[ subject ]</a>
              <a href="author.html#3609">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
