<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> More on bit time setting and calculation...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C20080609114555.GE3223%40local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001347.html">
   <LINK REL="Next"  HREF="001331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>More on bit time setting and calculation...</H1>
    <B>Hans J. Koch</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C20080609114555.GE3223%40local%3E"
       TITLE="More on bit time setting and calculation...">hjk at linutronix.de
       </A><BR>
    <I>Mon Jun  9 13:45:55 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001347.html">More on bit time setting and calculation...
</A></li>
        <LI>Next message: <A HREF="001331.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1355">[ date ]</a>
              <a href="thread.html#1355">[ thread ]</a>
              <a href="subject.html#1355">[ subject ]</a>
              <a href="author.html#1355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jun 09, 2008 at 10:59:25AM +0200, Robert Schwebel wrote:
&gt;<i> 
</I>&gt;<i> &gt; If you could say: &quot;There is an algorithm that can be used for +95% of
</I>&gt;<i> &gt; the CAN controllers.&quot; This would be perfectly fine.
</I>&gt;<i> 
</I>&gt;<i> I don't think this is possible.
</I>
But parts of it should be possible. I think we could have a helper
function that calculates those propag, phase1, phase2, sjw... values for
a given bitrate in a hardware independent way. Maybe the driver has to
call this function more than once to find a combination that fits its
needs, but I believe that could be done (I didn't try it, though).

Having such a function in a place where every driver can use it would
solve a lot of problems. The drivers bitrate calculation routine would
be really short and would contain mostly the hardware dependent stuff
like cramming those values into the registers. It would avoid lots of
code duplication as well.

Thanks,
Hans


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001347.html">More on bit time setting and calculation...
</A></li>
	<LI>Next message: <A HREF="001331.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1355">[ date ]</a>
              <a href="thread.html#1355">[ thread ]</a>
              <a href="subject.html#1355">[ subject ]</a>
              <a href="author.html#1355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
