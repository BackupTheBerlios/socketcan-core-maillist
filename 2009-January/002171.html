<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> mcp251x.ko not exposing can0 when ifup or ifconfig is used.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mcp251x.ko%20not%20exposing%20can0%20when%20ifup%20or%20ifconfig%20is%20used.&In-Reply-To=%3C731160.81583.qm%40web110713.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002170.html">
   <LINK REL="Next"  HREF="002172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>mcp251x.ko not exposing can0 when ifup or ifconfig is used.</H1>
    <B>krj</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mcp251x.ko%20not%20exposing%20can0%20when%20ifup%20or%20ifconfig%20is%20used.&In-Reply-To=%3C731160.81583.qm%40web110713.mail.gq1.yahoo.com%3E"
       TITLE="mcp251x.ko not exposing can0 when ifup or ifconfig is used.">krjaz at yahoo.com
       </A><BR>
    <I>Tue Jan 27 19:09:41 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002170.html">[PATCH] dev: add register_candev() and unregister_candev()
</A></li>
        <LI>Next message: <A HREF="002172.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am using socketcan kernel modules, but I do not see can0 when ifconfig is used.

There are no errors using dmesg.
All depended modules are loaded using insmod
lsmod is correct.
Using 2.6.24 kernel, on i.MX31 with MCP CAN controller on SPI

Perhaps, my platform config is incorrect.

My spi_board_info looks like this:

----------------------------------------------------------------
static int mcp251x_setup(struct api_device * spi)
{
      return 0
}

static struct mcp251x_platform_data mcp251x_info = {
     .oscillator_frequency = 16000000,
     .board_specific_setup = &amp;mcp251x_setup,
     .model = CAN_MCP251X_MCP2515,
     .power_enable = NULL,
     .transceiver_enable = NULL,
};

static struct spi_board_info mxc_spi_board_info[] __initdata = {
{
     .modalias         = &quot;mcp251x&quot;
     .platform_data    =  &amp;mcp251x_info,
     .irq              = 11
     .max_speed_hz     = 8000000,
     .bus_num          = 1,
     .chip_select      = 0,
     .mode             = SPI_MODE_0,
 };


      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002170.html">[PATCH] dev: add register_candev() and unregister_candev()
</A></li>
	<LI>Next message: <A HREF="002172.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2171">[ date ]</a>
              <a href="thread.html#2171">[ thread ]</a>
              <a href="subject.html#2171">[ subject ]</a>
              <a href="author.html#2171">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
