<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH v2 1/4] dev: new interface for setting	bit-timing	parameters
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20v2%201/4%5D%20dev%3A%20new%20interface%20for%20setting%0A%09bit-timing%09parameters&In-Reply-To=%3C48D13F19.1010905%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001844.html">
   <LINK REL="Next"  HREF="001847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH v2 1/4] dev: new interface for setting	bit-timing	parameters</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20v2%201/4%5D%20dev%3A%20new%20interface%20for%20setting%0A%09bit-timing%09parameters&In-Reply-To=%3C48D13F19.1010905%40hartkopp.net%3E"
       TITLE="[PATCH v2 1/4] dev: new interface for setting	bit-timing	parameters">socketcan at hartkopp.net
       </A><BR>
    <I>Wed Sep 17 19:32:09 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001844.html">[PATCH v2 1/4]  dev: new interface for setting bit-timing	parameters
</A></li>
        <LI>Next message: <A HREF="001847.html">[PATCH v2 1/4]  dev: new interface for setting bit-timing	parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1845">[ date ]</a>
              <a href="thread.html#1845">[ thread ]</a>
              <a href="subject.html#1845">[ subject ]</a>
              <a href="author.html#1845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Schwebel wrote:
&gt;<i> On Wed, Sep 17, 2008 at 05:42:31PM +0200, Kurt Van Dijck wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I came to the point actually using the sysfs interface.  I appreciate
</I>&gt;&gt;<i> your effort to have included sample_point support.  Actually using the
</I>&gt;&gt;<i> sample_point control was getting strange. You mainly intercepted the
</I>&gt;&gt;<i> sysfs setting for bitrate, which does work.  The problem I see dealing
</I>&gt;&gt;<i> with the various bittiming parameters is that there are quite some
</I>&gt;&gt;<i> interactions between different parameters.  So, I started coding.  I
</I>&gt;&gt;<i> had to experiment with different approaches before getting this one
</I>&gt;&gt;<i> right.  I ended up with a system that differentiates between modifying
</I>&gt;&gt;<i> 'easy mode' and 'expert mode' bittiming parameters.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Although your code did work fine when not touching the sample_point
</I>&gt;&gt;<i> too much, the patch below keeps working while playing heavily with
</I>&gt;&gt;<i> both sample_point &amp; bitrate.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It acts by keeping track of the last applied set of bittiming
</I>&gt;&gt;<i> parameters given to the driver.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I believe it's an improvement :-)
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> We started our prototype with a simple in-kernel
</I>&gt;<i>
</I>&gt;<i>   [bitrate-name] -&gt; CiA Timing Model Parameters
</I>&gt;<i>
</I>&gt;<i> table, for each bit rate. I still think this would be an improvement
</I>&gt;<i> over the current design.
</I>&gt;<i>   
</I>
Yawn!

Robert, please realize your CiA tables in userspace. The upcoming sysfs 
interface gives you everthing you need for that.
It becomes really boring to discuss your tables again and again ...

Thanks,
Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001844.html">[PATCH v2 1/4]  dev: new interface for setting bit-timing	parameters
</A></li>
	<LI>Next message: <A HREF="001847.html">[PATCH v2 1/4]  dev: new interface for setting bit-timing	parameters
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1845">[ date ]</a>
              <a href="thread.html#1845">[ thread ]</a>
              <a href="subject.html#1845">[ subject ]</a>
              <a href="author.html#1845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
