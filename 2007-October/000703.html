<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Single-shot transmission mode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Single-shot%20transmission%20mode&In-Reply-To=%3C4704BA27.9030203%40volkswagen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000701.html">
   <LINK REL="Next"  HREF="000707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Single-shot transmission mode</H1>
    <B>Hartkopp, Oliver (K-GEFE/E)</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Single-shot%20transmission%20mode&In-Reply-To=%3C4704BA27.9030203%40volkswagen.de%3E"
       TITLE="Single-shot transmission mode">oliver.hartkopp at volkswagen.de
       </A><BR>
    <I>Thu Oct  4 12:02:15 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000701.html">Single-shot transmission mode
</A></li>
        <LI>Next message: <A HREF="000707.html">Single-shot transmission mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#703">[ date ]</a>
              <a href="thread.html#703">[ thread ]</a>
              <a href="subject.html#703">[ subject ]</a>
              <a href="author.html#703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marc Kleine-Budde wrote:
&gt;<i> Chris Elston wrote:
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;&gt;<i> Can you please explain the concept of &quot;signle-shot&quot;, I'm not familliar 
</I>&gt;&gt;&gt;<i> with it.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;<i> &gt;From the MCP2515 datasheet:
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> &quot;3.4 One-Shot Mode
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> One-shot mode ensures that a message will only attempt to transmit one
</I>&gt;&gt;<i> time.  Normally, if a CAN message loses arbitration, or is destroyed by
</I>&gt;&gt;<i> an error frame, the message is retransmitted.  With One-shot mode
</I>&gt;&gt;<i> enabled, a message will only attempt to transmit one time, regardless of
</I>&gt;&gt;<i> arbitration loss or error frame.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> One-shot mode is required to maintain time slots in deterministic
</I>&gt;&gt;<i> systems, such as TTCAN.&quot;
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Thanks for the enlightenment :) TTCAN is time triggered CAN, isn't it?
</I>&gt;<i> How is the common use case of one-shot mode? Is it commonly switched on 
</I>&gt;<i> per &quot;socket&quot; or per individual &quot;message&quot;?
</I>&gt;<i>
</I>&gt;<i> Urs, Oliver is it possible to pass a flag like this with the send* 
</I>&gt;<i> functions into the kernel?
</I>&gt;<i>
</I>&gt;<i> Another problem would be to pass this flag with the hard_start_xmit 
</I>&gt;<i> function into the driver. The skb carries ATM just the can_frame, and 
</I>&gt;<i> the frame has no room left to carry any more data....Is it possible to 
</I>&gt;<i> put more data into the SKB?
</I>&gt;<i>   
</I>
Hi Marc &amp; Chris,

i just wanted to reply on this discussion from home this evening as our 
fancy Exchange-Server breaks the thread display - sorry. Btw. ...

Indeed the one-shot requirement looks like feature to me, that should be 
solved on driver level. E.g. by configuring the driver (and therefore 
the MCP2515 CAN controller in this case) not to resend the aborted 
transmission. I assume a TTCAN controller working in TTCAN mode all the 
time when connected to a specific CAN-bus, right? If so this should be a 
per-bus setting as suggested to be handled on driver level and not as a 
per-socket or per-transmission option.

Regards,
Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000701.html">Single-shot transmission mode
</A></li>
	<LI>Next message: <A HREF="000707.html">Single-shot transmission mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#703">[ date ]</a>
              <a href="thread.html#703">[ thread ]</a>
              <a href="subject.html#703">[ subject ]</a>
              <a href="author.html#703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
