<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SJA1000 bus off recovery
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20bus%20off%20recovery&In-Reply-To=%3C47B471E9.6040605%40microcontrol.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001079.html">
   <LINK REL="Next"  HREF="001080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SJA1000 bus off recovery</H1>
    <B>Uwe Koppe</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20bus%20off%20recovery&In-Reply-To=%3C47B471E9.6040605%40microcontrol.net%3E"
       TITLE="SJA1000 bus off recovery">koppe at microcontrol.net
       </A><BR>
    <I>Thu Feb 14 17:52:57 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001079.html">SJA1000 bus off recovery
</A></li>
        <LI>Next message: <A HREF="001080.html">SJA1000 bus off recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1078">[ date ]</a>
              <a href="thread.html#1078">[ thread ]</a>
              <a href="subject.html#1078">[ subject ]</a>
              <a href="author.html#1078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi CAN gurus,

&gt;<i> That are the infamous bus error events of the SJA1000 generating bus
</I>&gt;<i> error messages without going really bus-off.
</I>
This is not specific to the SJA1000, every CAN controller shows this
behaviour when it is not connected to the bus. The Tx Error counter
goes to 128, generates the Error Passive Interrupt and stops counting,
since it is an ACK error. At this stage ACK interrupts should be 
stopped. IMHO its sufficient to report the error passive state.

Oliver: when you connect a scope to the bus you will
see a bus load of about 80..90%. The controller tries to send its
message out of the buffer, but gets no ACK. Thats what you see in your
stats.


Best regards,
Uwe


-----------------------------------------------------------
<A HREF="http://www.microcontrol.net">http://www.microcontrol.net</A>

Fon: +49 (0)2241 / 256 59 - 0
Fax: +49 (0)2241 / 256 59 - 11

MicroControl GmbH &amp; Co. KG
Lindlaustr. 2 c
53842 Troisdorf, Germany

Pers&#246;nlich haftend:
MicroControl Systemhaus f&#252;r Automatisierung
Beteiligungsgesellschaft mbH, Troisdorf

HRB 4952 Siegburg (GmbH)
HRA 3110 Siegburg (KG)

Gesch&#228;ftsf&#252;hrer:
Dipl.-Ing. Uwe Koppe
Dipl.-Ing. (FH) Torsten Krahl
Dipl.-Ing. (FH) Frank Wielp&#252;tz

Ust-IdNr. DE 812191199
-----------------------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001079.html">SJA1000 bus off recovery
</A></li>
	<LI>Next message: <A HREF="001080.html">SJA1000 bus off recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1078">[ date ]</a>
              <a href="thread.html#1078">[ thread ]</a>
              <a href="subject.html#1078">[ subject ]</a>
              <a href="author.html#1078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
