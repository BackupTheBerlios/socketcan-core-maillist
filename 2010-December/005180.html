<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH net-next-2.6 v2] can: tscan1: add driver for TS-CAN1 boards
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20net-next-2.6%20v2%5D%20can%3A%20tscan1%3A%20add%20driver%20for%20TS-CAN1%20boards&In-Reply-To=%3C30419926.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005182.html">
   <LINK REL="Next"  HREF="005181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH net-next-2.6 v2] can: tscan1: add driver for TS-CAN1 boards</H1>
    <B>Dan Wright</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20net-next-2.6%20v2%5D%20can%3A%20tscan1%3A%20add%20driver%20for%20TS-CAN1%20boards&In-Reply-To=%3C30419926.post%40talk.nabble.com%3E"
       TITLE="[PATCH net-next-2.6 v2] can: tscan1: add driver for TS-CAN1 boards">danwwright at gmail.com
       </A><BR>
    <I>Thu Dec  9 20:45:51 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005182.html">[PATCH net-next-2.6 v8 20/20] CAN : Replace netif_rx	to	netif_receive_skb
</A></li>
        <LI>Next message: <A HREF="005181.html">[PATCH net-next-2.6 v2] can: tscan1: add driver for TS-CAN1 boards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5180">[ date ]</a>
              <a href="thread.html#5180">[ thread ]</a>
              <a href="subject.html#5180">[ subject ]</a>
              <a href="author.html#5180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
We are using a TS-CAN1 board mounted on a TS-7350 running kernel:
Linux ts7000 2.6.21-ts #43 PREEMPT Mon Aug 25 09:59:14 MST 2008 armv4tl
GNU/Linux
and the binary lincan.ko from:
<A HREF="ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7350-linux/binaries/ts-modules/lincan.ko">ftp://ftp.embeddedarm.com/ts-arm-sbc/ts-7350-linux/binaries/ts-modules/lincan.ko</A>

When the CAN bus is disconnected eventually our app finds that a call to

write(CANdriver,&amp;canmsg,sizeof(struct canmsg_t));

does not return.  This is no doubt the bus-off issue.

Can you point me to the driver code that fixes this issue or instructions on
how to check for this case and reset the controller from our app?


Wolfgang Grandegger wrote:
&gt;<i> 
</I>&gt;<i> On 10/19/2010 09:47 AM, Andre B. Oliveira wrote:
</I>&gt;&gt;<i> Add driver for Technologic Systems TS-CAN1 PC104 peripheral boards.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Signed-off-by: Andre B. Oliveira &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">anbadeol at gmail.com</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> Acked-by: Wolfgang Grandegger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">wg at grandegger.com</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> Thanks for your contribution.
</I>&gt;<i> 
</I>&gt;<i> Wolfgang.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Socketcan-core mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">Socketcan-core at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">https://lists.berlios.de/mailman/listinfo/socketcan-core</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://old.nabble.com/-PATCH-net-next-2.6-v2--can%3A-tscan1%3A-add-driver-for-TS-CAN1-boards-tp29997895p30419926.html">http://old.nabble.com/-PATCH-net-next-2.6-v2--can%3A-tscan1%3A-add-driver-for-TS-CAN1-boards-tp29997895p30419926.html</A>
Sent from the Socket-CAN Core mailing list archive at Nabble.com.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005182.html">[PATCH net-next-2.6 v8 20/20] CAN : Replace netif_rx	to	netif_receive_skb
</A></li>
	<LI>Next message: <A HREF="005181.html">[PATCH net-next-2.6 v2] can: tscan1: add driver for TS-CAN1 boards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5180">[ date ]</a>
              <a href="thread.html#5180">[ thread ]</a>
              <a href="subject.html#5180">[ subject ]</a>
              <a href="author.html#5180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
