<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to close the CAN driver itself in a CAN driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20close%20the%20CAN%20driver%20itself%20in%20a%20CAN%20driver&In-Reply-To=%3Ce531d8061002021620w4d99b232ka31321b2ad2d476d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003963.html">
   <LINK REL="Next"  HREF="003965.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to close the CAN driver itself in a CAN driver</H1>
    <B>wendy liang</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20close%20the%20CAN%20driver%20itself%20in%20a%20CAN%20driver&In-Reply-To=%3Ce531d8061002021620w4d99b232ka31321b2ad2d476d%40mail.gmail.com%3E"
       TITLE="How to close the CAN driver itself in a CAN driver">sunnyliangjy at gmail.com
       </A><BR>
    <I>Wed Feb  3 01:20:11 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003963.html">Writing a driver for Janz cPCI CAN card
</A></li>
        <LI>Next message: <A HREF="003965.html">How to close the CAN driver itself in a CAN driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3964">[ date ]</a>
              <a href="thread.html#3964">[ thread ]</a>
              <a href="subject.html#3964">[ subject ]</a>
              <a href="author.html#3964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am writing a CAN driver using the socketCAN framework.
When there is an ACK error, the CAN hardware keeps resending the packet and
keeps raising interrupts, which introduce too much overhead to the
processor.
And thus, I want the driver to close itself when the interrupt handler
detects there are too many error interrupts.

Is there anyway to ask the upper layer to close the driver from the driver
itself such that the upper layer knows the driver is closed?

Is it enough to just call the &quot;.ndo_stop() &quot; function from the driver
itself?

Thanks,
Wendy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-core/attachments/20100203/d38ed515/attachment.html">https://lists.berlios.de/pipermail/socketcan-core/attachments/20100203/d38ed515/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003963.html">Writing a driver for Janz cPCI CAN card
</A></li>
	<LI>Next message: <A HREF="003965.html">How to close the CAN driver itself in a CAN driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3964">[ date ]</a>
              <a href="thread.html#3964">[ thread ]</a>
              <a href="subject.html#3964">[ subject ]</a>
              <a href="author.html#3964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
