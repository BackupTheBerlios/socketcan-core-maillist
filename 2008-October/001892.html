<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Softing Driver with new bittime interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Softing%20Driver%20with%20new%20bittime%20interface&In-Reply-To=%3C20081006114913.GG5234%40e-circ.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001890.html">
   <LINK REL="Next"  HREF="001896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Softing Driver with new bittime interface</H1>
    <B>Kurt Van Dijck</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Softing%20Driver%20with%20new%20bittime%20interface&In-Reply-To=%3C20081006114913.GG5234%40e-circ.dyndns.org%3E"
       TITLE="Softing Driver with new bittime interface">kurt.van.dijck at eia.be
       </A><BR>
    <I>Mon Oct  6 13:49:13 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001890.html">Softing Driver with new bittime interface
</A></li>
        <LI>Next message: <A HREF="001896.html">Softing Driver with new bittime interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1892">[ date ]</a>
              <a href="thread.html#1892">[ thread ]</a>
              <a href="subject.html#1892">[ subject ]</a>
              <a href="author.html#1892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 06, 2008 at 01:45:41PM +0200, Oliver Hartkopp wrote:
&gt;<i> Wolfgang Grandegger wrote:
</I>&gt;&gt;<i> Kurt Van Dijck wrote:
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> Now, it just returns true. The check on IFF_UP may not be very
</I>&gt;&gt;&gt;<i> driver-specific.
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's obsolete because the bit-timing can not be modified if the device
</I>&gt;&gt;<i> is up. Nevertheless, you need the do_set_bittiming() callback otherwise
</I>&gt;&gt;<i> the bit-time calculation and setting will not work. See
</I>&gt;&gt;<i> dev.c:can_set_bittiming().
</I>&gt;&gt;<i>   
</I>&gt;<i>
</I>&gt;<i> Maybe we should check (priv-&gt;do_set_bittiming) to be not NULL before  
</I>&gt;<i> execution.
</I>&gt;<i> This could make it easier for special drivers (like this Softing driver)  
</I>&gt;<i> not to be forced to create an empty function returning zero.
</I>I think the way it is now, is that drivers (virtual) that do not deal
with bittiming have no such function.
Having this (empty) function means to the core that the drivers deals
with bittiming.
The core requires mainly a difference between no btr at all, or using
btr drivers. It then can differentiate whether to fail on bittiming or
not. It would be silly failing a virtual CAN device to ifup
because of no bittiming ...
&gt;<i>
</I>&gt;<i> Oliver
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001890.html">Softing Driver with new bittime interface
</A></li>
	<LI>Next message: <A HREF="001896.html">Softing Driver with new bittime interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1892">[ date ]</a>
              <a href="thread.html#1892">[ thread ]</a>
              <a href="subject.html#1892">[ subject ]</a>
              <a href="author.html#1892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
