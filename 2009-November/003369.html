<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to provide product information
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20provide%20product%20information&In-Reply-To=%3C4AEFEAAC.1020504%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003367.html">
   <LINK REL="Next"  HREF="003371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to provide product information</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20provide%20product%20information&In-Reply-To=%3C4AEFEAAC.1020504%40grandegger.com%3E"
       TITLE="How to provide product information">wg at grandegger.com
       </A><BR>
    <I>Tue Nov  3 09:32:44 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003367.html">How to provide product information
</A></li>
        <LI>Next message: <A HREF="003371.html">How to provide product information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3369">[ date ]</a>
              <a href="thread.html#3369">[ thread ]</a>
              <a href="subject.html#3369">[ subject ]</a>
              <a href="author.html#3369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sebastian Haas wrote:
&gt;<i> Wolfgang Grandegger schrieb:
</I>&gt;&gt;<i> Matthias Fuchs wrote:
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am wondering what is the best way to provide
</I>&gt;&gt;&gt;<i> some product information for a CAN interface device (hardware version, 
</I>&gt;&gt;&gt;<i> serialno, firmware version)? My favour way is to generate some files
</I>&gt;&gt;&gt;<i> in sysfs as it is typically (but limited) done for USB devices.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Would /sys/class/net/can*/version be suitable?
</I>&gt;&gt;<i> I just understood from Oliver, that your are speaking about device
</I>&gt;&gt;<i> specific properties (and not common one). Then just use
</I>&gt;&gt;<i> device_create_file(), which will create entries in /sys/devices/...
</I>&gt;&gt;<i> (the symbolic link /sys/class/net/can*/device).
</I>&gt;<i> We are talking about common properties (e.g. manufacturer, serial
</I>&gt;<i> number, ...) and specific properties (e.g. enable +5V output).
</I>&gt;<i> 
</I>&gt;<i> Imagine a GUI application which displays all available CAN channels. How
</I>&gt;<i> does the user differ between 2 or 3 connected devices or just think
</I>&gt;<i> about the 4 channel CPC-PCI board. How does the user know which can*
</I>&gt;<i> device is which channel?
</I>
This could be done using the device renaming mechanism.
 
&gt;<i> In our proprietary products we have a similiar situation as in Socket
</I>&gt;<i> CAN. In Socket CAN you have abstract can* network interface to access
</I>&gt;<i> the actual physical channel. In our library CPC-LIB you have CHAN*,
</I>&gt;<i> these logical channels (CHAN*) must be configured using device
</I>&gt;<i> information (e.g. CHAN00 is CPC-PCI board #1, channel #2, CHAN02 is
</I>&gt;<i> CPC-USB with serial #1923).
</I>&gt;<i> 
</I>&gt;<i> If the candev system would provide a common to get this information, a
</I>&gt;<i> GUI display or even a terminal application can display additional
</I>&gt;<i> information about each channel, so the user can decide which channel he
</I>&gt;<i> wants to actually use.
</I>
Then it would make sense to add this to the device properties you can
get via the CAN netlink interface. Most likely you are interested in
other parameters like CAN statistics or bit-timinig as well. That's not
a big deal. They would then show up here:


$ ip -details -statistics link show can0
    2: can0: &lt;NOARP,UP,LOWER_UP,ECHO&gt; mtu 16 qdisc pfifo_fast state UP qlen 10
      link/can
      can &lt;TRIPLE-SAMPLING&gt; state ERROR-ACTIVE restart-ms 100
      bitrate 125000 sample_point 0.875
      tq 125 prop-seg 6 phase-seg1 7 phase-seg2 2 sjw 1
      sja1000: tseg1 1..16 tseg2 1..8 sjw 1..4 brp 1..64 brp-inc 1
      clock 8000000
      board cpc-pci channel 2 serial# 123456 

Wolfgang.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003367.html">How to provide product information
</A></li>
	<LI>Next message: <A HREF="003371.html">How to provide product information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3369">[ date ]</a>
              <a href="thread.html#3369">[ thread ]</a>
              <a href="subject.html#3369">[ subject ]</a>
              <a href="author.html#3369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
