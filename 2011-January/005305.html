<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH net-next-2.6 v2 1/2] can: add driver for Softing card
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20net-next-2.6%20v2%201/2%5D%20can%3A%20add%20driver%20for%20Softing%20card&In-Reply-To=%3C20110106150525.GB324%40e-circ.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005294.html">
   <LINK REL="Next"  HREF="005307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card</H1>
    <B>Kurt Van Dijck</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20net-next-2.6%20v2%201/2%5D%20can%3A%20add%20driver%20for%20Softing%20card&In-Reply-To=%3C20110106150525.GB324%40e-circ.dyndns.org%3E"
       TITLE="[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card">kurt.van.dijck at eia.be
       </A><BR>
    <I>Thu Jan  6 16:05:26 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005294.html">[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card
</A></li>
        <LI>Next message: <A HREF="005307.html">[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5305">[ date ]</a>
              <a href="thread.html#5305">[ thread ]</a>
              <a href="subject.html#5305">[ subject ]</a>
              <a href="author.html#5305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang,

On Wed, Jan 05, 2011 at 09:57:16PM +0100, Wolfgang Grandegger wrote:
&gt;<i> 
</I>&gt;<i> here comes my review... First some general remarks. As Mark already
</I>&gt;<i> pointed out, there are still some coding style issues:
</I>Oops, I tried to eliminate those.
&gt;<i> 
</I>&gt;<i> - Please use the following style for multi line comments:
</I>shame on me. I should have done them all after Mark pointed me to it.
&gt;<i> 
</I>&gt;<i> - Please avoid alignment of expressions and structure members.
</I>I see:
diff --git a/include/linux/can.h b/include/linux/can.h
index d183333..6b1e5a6 100644
--- a/include/linux/can.h
+++ b/include/linux/can.h
@@ -56,18 +56,18 @@ typedef __u32 can_err_mask_t;
  */
 struct can_frame {
 	canid_t can_id;  /* 32 bit CAN_ID + EFF/RTR/ERR flags */
-	__u8    can_dlc; /* data length code: 0 .. 8 */
-	__u8    data[8] __attribute__((aligned(8)));
+	__u8 can_dlc; /* data length code: 0 .. 8 */
+	__u8 data[8] __attribute__((aligned(8)));
 };
 
 /* particular protocols of the protocol family PF_CAN */
-#define CAN_RAW		1 /* RAW sockets */
-#define CAN_BCM		2 /* Broadcast Manager */
-#define CAN_TP16	3 /* VAG Transport Protocol v1.6 */
-#define CAN_TP20	4 /* VAG Transport Protocol v2.0 */
-#define CAN_MCNET	5 /* Bosch MCNet */
-#define CAN_ISOTP	6 /* ISO 15765-2 Transport Protocol */
-#define CAN_NPROTO	7
+#define CAN_RAW 1 /* RAW sockets */
+#define CAN_BCM 2 /* Broadcast Manager */
+#define CAN_TP16 3 /* VAG Transport Protocol v1.6 */
+#define CAN_TP20 4 /* VAG Transport Protocol v2.0 */
+#define CAN_MCNET 5 /* Bosch MCNet */
+#define CAN_ISOTP 6 /* ISO 15765-2 Transport Protocol */
+#define CAN_NPROTO 7
 
 #define SOL_CAN_BASE 100
 
@@ -79,7 +79,7 @@ struct can_frame {
  */
 struct sockaddr_can {
 	sa_family_t can_family;
-	int         can_ifindex;
+	int can_ifindex;
 	union {
 		/* transport protocol class address information (e.g. ISOTP) */
 		struct { canid_t rx_id, tx_id; } tp;

I applied a search pattern on this, since I seem incapable of finding
alignment problems in my own code :-).
I assume alignment is ok for definitions, but not within functions?
I consulted the Documentation/Coding-style, but I did not find
the exact answer.
&gt;<i> 
</I>&gt;<i> More comments inline...
</I>More to process for me too ...

Kurt

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005294.html">[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card
</A></li>
	<LI>Next message: <A HREF="005307.html">[PATCH net-next-2.6 v2 1/2] can: add driver for Softing card
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5305">[ date ]</a>
              <a href="thread.html#5305">[ thread ]</a>
              <a href="subject.html#5305">[ subject ]</a>
              <a href="author.html#5305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
