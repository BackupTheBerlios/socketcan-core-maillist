<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [RFC] Specific CAN bit rate settings in HW-independent way
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BRFC%5D%20Specific%20CAN%20bit%20rate%20settings%20in%20HW-independent%20way&In-Reply-To=%3C200710081811.47840.jbe%40pengutronix.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000736.html">
   <LINK REL="Next"  HREF="000738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[RFC] Specific CAN bit rate settings in HW-independent way</H1>
    <B>Juergen Beisert</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BRFC%5D%20Specific%20CAN%20bit%20rate%20settings%20in%20HW-independent%20way&In-Reply-To=%3C200710081811.47840.jbe%40pengutronix.de%3E"
       TITLE="[RFC] Specific CAN bit rate settings in HW-independent way">jbe at pengutronix.de
       </A><BR>
    <I>Mon Oct  8 18:11:47 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000736.html">[RFC] Specific CAN bit rate settings in HW-independent way
</A></li>
        <LI>Next message: <A HREF="000738.html">[RFC] Specific CAN bit rate settings in HW-independent way
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#737">[ date ]</a>
              <a href="thread.html#737">[ thread ]</a>
              <a href="subject.html#737">[ subject ]</a>
              <a href="author.html#737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wolfgang,

On Monday 08 October 2007 18:02, Wolfgang Grandegger wrote:
&gt;<i> Robert Schwebel wrote:
</I>&gt;<i> &gt; On Fri, Oct 05, 2007 at 12:40:47PM +0200, Juergen Beisert wrote:
</I>&gt;<i> &gt;&gt; we tried to fix the current can_calc_bit_time() behavior on our hardware
</I>&gt;<i> &gt;&gt; (MPC5200B) without success. It always calculates unusable values for
</I>&gt;<i> &gt;&gt; this hardware.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The question is if it is possible at all to find an algorighm which
</I>&gt;<i> &gt; calculates these bit timing parameters in an optimal way. There may be
</I>&gt;<i> &gt; even reasons why people want to run a system with a certain specified
</I>&gt;<i> &gt; parameter set, so IMHO it must be possible to define such a thing.
</I>&gt;<i>
</I>&gt;<i> The calculated default values shoud be resonable, likely they are never
</I>&gt;<i> optimal as they may also depend on things like cable lenght, etc.
</I>
Currently the calculated default values are totally broken for MPC52000B.

&gt;<i> &gt; Any further comments about Juergen's approach? Any feedback is welcome.
</I>&gt;<i>
</I>&gt;<i> To define better bit-timing values we have the SIOCSCANCUSTOMBITTIME and
</I>&gt;<i> it's up to the application to use it. Do we need something else?
</I>
If something changes externaly you must change the application to setup the 
new behavior. With our approach, you don't need to touch your application, 
you set it up at system start time instead and you are done.

Juergen
-- 
Dipl.-Ing. Juergen Beisert | <A HREF="http://www.pengutronix.de">http://www.pengutronix.de</A>
&#160;Pengutronix - Linux Solutions for Science and Industry
&#160;   Handelsregister: Amtsgericht Hildesheim, HRA 2686
&#160; &#160; &#160;    Vertretung Sued/Muenchen, Germany
   Phone: +49-8766-939 228 |  Fax: +49-5121-206917-9

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000736.html">[RFC] Specific CAN bit rate settings in HW-independent way
</A></li>
	<LI>Next message: <A HREF="000738.html">[RFC] Specific CAN bit rate settings in HW-independent way
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#737">[ date ]</a>
              <a href="thread.html#737">[ thread ]</a>
              <a href="subject.html#737">[ subject ]</a>
              <a href="author.html#737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
