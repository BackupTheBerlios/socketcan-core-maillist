<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SJA1000 bus off recovery
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20bus%20off%20recovery&In-Reply-To=%3C47B47236.4090404%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001074.html">
   <LINK REL="Next"  HREF="001078.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SJA1000 bus off recovery</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20bus%20off%20recovery&In-Reply-To=%3C47B47236.4090404%40grandegger.com%3E"
       TITLE="SJA1000 bus off recovery">wg at grandegger.com
       </A><BR>
    <I>Thu Feb 14 17:54:14 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001074.html">SJA1000 bus off recovery
</A></li>
        <LI>Next message: <A HREF="001078.html">SJA1000 bus off recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1079">[ date ]</a>
              <a href="thread.html#1079">[ thread ]</a>
              <a href="subject.html#1079">[ subject ]</a>
              <a href="author.html#1079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oliver Hartkopp wrote:
&gt;<i> Wolfgang Grandegger wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Either attach at least one operating CAN node
</I>&gt;&gt;<i> to the bus or do a restart. I have removed the TX timeouts as the result
</I>&gt;&gt;<i> of some previous discussion on this list.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Oops? Did i miss that issue?
</I>&gt;<i> 
</I>&gt;<i> I expected the netdev watchdog TX timeout to be a standard netdev feature.
</I>
I have interpreted your comment at the end of the following mail in that
way:

<A HREF="https://lists.berlios.de/pipermail/socketcan-core/2007-December/000956.html">https://lists.berlios.de/pipermail/socketcan-core/2007-December/000956.html</A>

What should the TX timeout function then do other than re-starting the
device and aborting TX messages?

&gt;<i> I don't want to restart a (finished) discussion but i probably looks
</I>&gt;<i> like we need some kind of error handling for unattached CAN busses :-/
</I>
As already stated, bus error reporting is a feature of the SJA1000 only.
I can remember a discussion a long time ago where all information
provided by bus error messages is useful for debugging and error state
analysis. What we need is to avoid generating error frames, when nobody
wants them. We have some mechanism in RT-Socket-CAN:

<A HREF="http://www.rts.uni-hannover.de/xenomai/lxr/source/ksrc/drivers/can/Kconfig#052">http://www.rts.uni-hannover.de/xenomai/lxr/source/ksrc/drivers/can/Kconfig#052</A>

But using the NAPI seems more attractive with netdev.

Wolfgang.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001074.html">SJA1000 bus off recovery
</A></li>
	<LI>Next message: <A HREF="001078.html">SJA1000 bus off recovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1079">[ date ]</a>
              <a href="thread.html#1079">[ thread ]</a>
              <a href="subject.html#1079">[ subject ]</a>
              <a href="author.html#1079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
