<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> How to provide product information
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20provide%20product%20information&In-Reply-To=%3C4AF308CD.8000609%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003388.html">
   <LINK REL="Next"  HREF="003400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>How to provide product information</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20How%20to%20provide%20product%20information&In-Reply-To=%3C4AF308CD.8000609%40hartkopp.net%3E"
       TITLE="How to provide product information">socketcan at hartkopp.net
       </A><BR>
    <I>Thu Nov  5 18:18:05 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003388.html">How to provide product information
</A></li>
        <LI>Next message: <A HREF="003400.html">How to provide product information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3391">[ date ]</a>
              <a href="thread.html#3391">[ thread ]</a>
              <a href="subject.html#3391">[ subject ]</a>
              <a href="author.html#3391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kurt Van Dijck wrote:

&gt;&gt;&gt;&gt;&gt;<i> Maybe after all this discussion and after coming back to sysfs the idea behind
</I>&gt;&gt;&gt;&gt;&gt;<i> a driver generated unique canhwid has become clearer.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> IMO we could define a common specification, how the canhwid has to be built by
</I>&gt;&gt;&gt;&gt;&gt;<i> the driver, e.g.
</I>&gt;&gt;&gt;&gt;<i> yes, and this does not forbit anyone to create other sysfs entries for special cases :-)
</I>&gt;&gt;&gt;&gt;&gt;<i> &lt;drvname&gt;#&lt;vendor&gt;#&lt;product&gt;#&lt;serialnumber&gt;#&lt;ioport&gt;#&lt;channel&gt;#
</I>&gt;<i> From these, only serialnumber &amp; channel are new values. The others (if
</I>&gt;<i> they would be available) can be found in the device subdirectory.
</I>(..)
&gt;<i> I can, however, imagine very usefull things with a 'channel' (which is
</I>&gt;<i> per-CAN chip) and a serial (which is per-device), although not every
</I>&gt;<i> device has such properties.
</I>&gt;<i> A good udev config (we use a udev replacement, written in house just for
</I>&gt;<i> faster boots) should be able to do anything you like when these
</I>&gt;<i> (2) are seperate sysfs properties.
</I>
No problems with that.

So your suggestion in two sentences would be:

1. Put the modalias stuff AS-IS in /sys/class/net/can0/device/modalias
2. Put the CAN interface differencing stuff in /sys/class/net/can0/canhwid

Right?

This would make udev happy to load &amp; handle the correct driver and
additionally would allow to identify separate CAN interfaces embedded in this
'device' due to the serialnumber/channel/ioport in the driver generated canhwid.

Do you know if this can be handled sufficiently by udev scripts to configure
e.g. bitrates? I'm not that familiar with udev scripting.

Regards,
Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003388.html">How to provide product information
</A></li>
	<LI>Next message: <A HREF="003400.html">How to provide product information
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3391">[ date ]</a>
              <a href="thread.html#3391">[ thread ]</a>
              <a href="subject.html#3391">[ subject ]</a>
              <a href="author.html#3391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
