<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH 0/3] add support for Janz MODULbus devices
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%200/3%5D%20add%20support%20for%20Janz%20MODULbus%20devices&In-Reply-To=%3C1269881932-3803-1-git-send-email-iws%40ovro.caltech.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004257.html">
   <LINK REL="Next"  HREF="004260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH 0/3] add support for Janz MODULbus devices</H1>
    <B>Ira W. Snyder</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%200/3%5D%20add%20support%20for%20Janz%20MODULbus%20devices&In-Reply-To=%3C1269881932-3803-1-git-send-email-iws%40ovro.caltech.edu%3E"
       TITLE="[PATCH 0/3] add support for Janz MODULbus devices">iws at ovro.caltech.edu
       </A><BR>
    <I>Mon Mar 29 18:58:49 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004257.html">[PATCH] Add hotplug support to mcp251x driver
</A></li>
        <LI>Next message: <A HREF="004260.html">[PATCH 1/3] mfd: add support for Janz CMOD-IO PCI MODULbus Carrier	Board
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4258">[ date ]</a>
              <a href="thread.html#4258">[ thread ]</a>
              <a href="subject.html#4258">[ subject ]</a>
              <a href="author.html#4258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This patch series adds support for the Janz CMOD-IO carrier board, as well
as the Janz VMOD-ICAN3 Intelligent CAN controller and the Janz VMOD-TTL
Digital IO controller. The CMOD-IO carrier board is a PCI to MODULbus
bridge, into which plug MODULbus daughterboards.  I only have access to two
types of daughtercards, the VMOD-ICAN3 and VMOD-TTL boards mentioned above.

The CAN driver has been tested under high loads. I am able to generate ~60%
bus utilization. With two VMOD-ICAN3 boards looped back to each other,
neither one loses any packets when only a single board is generating
packets at maximum speed. Once both boards start generating packets, one
board will sometimes loose arbitration, and cause some lost packets.

After much review from the last posting of the series, I believe that this
should be ready for mainline. Many thanks to everyone that helped!

RFCv4 -&gt; RFCv5:
- removed some dev_dbg() statements
- change default MODULbus modules to &quot;none&quot;
- accept both &quot;empty&quot; and &quot;&quot; in the MODULbus modules parameter
- print an error message when no MODULbus modules are specified
- add sysfs support to get/set CAN bus termination
- fix error-active and error-passive state reporting
- add support for netlink bus-error messages
- fixed sparse warnings
- used mfd-core API for multifunction device probing

RFCv3 -&gt; RFCv4:
- addressed many review comments
- switch to NAPI
- add TX flow control
- mark functions with __devinit and __devexit
- add sysfs readout of MODULbus number (hex switch)
- implement GPIO driver for VMOD-TTL

RFCv2 -&gt; RFCv3:
- addressed many review comments
- correct CAN bus error handling
- use struct device to track subdevices
- use structures for register layout
- add lots of #defines for register values
- use better function prefixes

RFCv1 -&gt; RFCv2:
- converted to a multi-driver model
- addressed many review comments
- added CAN bus error handling
- use a work function only instead of work + NAPI
- use SJA1000 bittiming calculation code

Thanks,
Ira

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004257.html">[PATCH] Add hotplug support to mcp251x driver
</A></li>
	<LI>Next message: <A HREF="004260.html">[PATCH 1/3] mfd: add support for Janz CMOD-IO PCI MODULbus Carrier	Board
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4258">[ date ]</a>
              <a href="thread.html#4258">[ thread ]</a>
              <a href="subject.html#4258">[ subject ]</a>
              <a href="author.html#4258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
