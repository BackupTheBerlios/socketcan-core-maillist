<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bus error notification by error frames
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20bus%20error%20notification%20by%20error%20frames&In-Reply-To=%3C44B26018.9080907%40volkswagen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000290.html">
   <LINK REL="Next"  HREF="000302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bus error notification by error frames</H1>
    <B>Hartkopp, Oliver (K-GEFE/E)</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20bus%20error%20notification%20by%20error%20frames&In-Reply-To=%3C44B26018.9080907%40volkswagen.de%3E"
       TITLE="bus error notification by error frames">oliver.hartkopp at volkswagen.de
       </A><BR>
    <I>Mon Jul 10 16:11:36 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000290.html">Entering sleep mode on MSCAN-MPC5200
</A></li>
        <LI>Next message: <A HREF="000302.html">bus error notification by error frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#301">[ date ]</a>
              <a href="thread.html#301">[ thread ]</a>
              <a href="subject.html#301">[ subject ]</a>
              <a href="author.html#301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

i just added CAN_ERR_BUSERROR and CAN_ERR_RESTARTED to the error class mask
in can_error.h due to our discussion.

Having the CAN_ERR_BUSERROR as maskable error leads to a new idea, how to
handle the bus-error notification:

The list of registered consumers for error-frames from a specific can-device
is implemented in af_can.c, so it could be an idea to set the error mask via
ioctl() in the CAN-driver. The error mask to be set here could be the ORed
error masks that have been registered for the specific device. So if no one
needs to see bus errors in error frames, the driver does not need to put
them into error frames and may therefore even disable the bus error
interrupt.

Comments?

Oliver.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000290.html">Entering sleep mode on MSCAN-MPC5200
</A></li>
	<LI>Next message: <A HREF="000302.html">bus error notification by error frames
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#301">[ date ]</a>
              <a href="thread.html#301">[ thread ]</a>
              <a href="subject.html#301">[ subject ]</a>
              <a href="author.html#301">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
