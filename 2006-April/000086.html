<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Socketcan-core] Re:  [RFC] Restructured kernel/2.6 subtree
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-core%5D%20Re%3A%20%20%5BRFC%5D%20Restructured%20kernel/2.6%20subtree&In-Reply-To=%3Cm2zmi56jzg.fsf%40janus.isnogud.escape.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000082.html">
   <LINK REL="Next"  HREF="000074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Socketcan-core] Re:  [RFC] Restructured kernel/2.6 subtree</H1>
    <B>Urs Thuermann</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BSocketcan-core%5D%20Re%3A%20%20%5BRFC%5D%20Restructured%20kernel/2.6%20subtree&In-Reply-To=%3Cm2zmi56jzg.fsf%40janus.isnogud.escape.de%3E"
       TITLE="[Socketcan-core] Re:  [RFC] Restructured kernel/2.6 subtree">urs at isnogud.escape.de
       </A><BR>
    <I>Sat Apr 29 07:14:59 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000082.html">[Socketcan-core] Re:  [RFC] Restructured kernel/2.6 subtree
</A></li>
        <LI>Next message: <A HREF="000074.html">[Socketcan-core] Error Frame Spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86">[ date ]</a>
              <a href="thread.html#86">[ thread ]</a>
              <a href="subject.html#86">[ subject ]</a>
              <a href="author.html#86">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Marc Kleine-Budde &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">mkl at pengutronix.de</A>&gt; writes:

&gt;<i> No. in linux include belongs only the API. Structs, defines etc used in
</I>&gt;<i> more that one .c file, but not part of the API into a header in the same
</I>&gt;<i> dir as the .c files. Stuff that never leaves a .c file should go into
</I>&gt;<i> the .c file itself.
</I>
That is how I know it from the old days reaching back to linux 1.x and
how I think it should be.  In these old days /usr/include/linux was a
symlink to the kernel sources which I still have here on my home
machine.  But then something completely confusing started.  The
symlinks were considered deprecated, instead copies of the kernel
include files were placed in /usr/include and were out of date every
couple of weeks or months and had to be updated from the kernel
sources.  Then extra packages were created containing the include files
for user space but they didn't solve the problem that they quickly
become outdated because of new kernel development and so there is one
kernel header file package for nearly each kernel version.

At the same time linux/include started to get populated by lots of
header files which don't define API to other parts of the kernel but
which are only used by one subsystem.  Today I don't see anymore a
clear strategy where include files are placed.  Also very annoying is
that we have include/linux and include/net and it seems networking
include files are randomly placed in one of these two.  For example,
we have include/linux/tipc.h and include/net/tipc/*.h, neither of
which is included from anywhere except net/tipc/.

When I suggested include/linux for some of our include files because
they contain definitions needed from user space you stated that this
directory is not used for this purpose anymore.  So what is its
purpose?

I did know where to put include files 5+ years ago.  Today I am
somewhat lost and still don't know if we should place our files in
include/linux or include/linux/can or include/net or include/net/can
or net/can.


urs

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000082.html">[Socketcan-core] Re:  [RFC] Restructured kernel/2.6 subtree
</A></li>
	<LI>Next message: <A HREF="000074.html">[Socketcan-core] Error Frame Spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#86">[ date ]</a>
              <a href="thread.html#86">[ thread ]</a>
              <a href="subject.html#86">[ subject ]</a>
              <a href="author.html#86">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
