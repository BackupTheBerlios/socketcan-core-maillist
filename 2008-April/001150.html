<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] EMS CPC-PCI/PCIe reworked
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20EMS%20CPC-PCI/PCIe%20reworked&In-Reply-To=%3C47F4B51F.8000009%40ems-wuensche.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001149.html">
   <LINK REL="Next"  HREF="001151.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] EMS CPC-PCI/PCIe reworked</H1>
    <B>Sebastian Haas</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20EMS%20CPC-PCI/PCIe%20reworked&In-Reply-To=%3C47F4B51F.8000009%40ems-wuensche.com%3E"
       TITLE="[PATCH] EMS CPC-PCI/PCIe reworked">haas at ems-wuensche.com
       </A><BR>
    <I>Thu Apr  3 12:44:47 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001149.html">[PATCH] EMS CPC-PCI/PCIe reworked
</A></li>
        <LI>Next message: <A HREF="001151.html">[PATCH] EMS CPC-PCI/PCIe reworked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Wolfgang,

please find attached the new patch.

I've also increased the PCI mapping size, since it was too small (only
1024 instead of 4096, the whole range of BAR#0 and BAR#1).

Sebastian

Wolfgang Grandegger wrote:
&gt;<i> Wolfgang Grandegger wrote:
</I>&gt;&gt;<i> Hi Sebastian,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sebastian Haas wrote:
</I>&gt;&gt;&gt;<i> Thanks, Wolfgang and Sam for your kindly support. The next patch I'll
</I>&gt;&gt;&gt;<i> commit won't have such issues, I hope. ;-)
</I>&gt;<i> 
</I>&gt;<i> I just tested the driver on my EMS CPC PCI Card with
</I>&gt;<i> 
</I>&gt;<i>   #define EMS_PCI_MAX_CHAN 4
</I>&gt;<i> 
</I>&gt;<i> Then I see in the boot log:
</I>&gt;<i> 
</I>&gt;<i> can-ems-pci 0000:00:18.0: Channel #1 at C507E400
</I>&gt;<i> can-ems-pci 0000:00:18.0: Channel #2 at C507E600
</I>&gt;<i> can-ems-pci 0000:00:18.0: Channel #2 not present, removing it
</I>&gt;<i> can-ems-pci 0000:00:18.0: Channel #3 not present, removing it
</I>&gt;<i> 
</I>&gt;<i> I think the non-existant channels should be removed silently and the
</I>&gt;<i> loop could be interrupted right after the first non-existant channel has
</I>&gt;<i> been detected. And it's also useful and common to add the IRQ-Number, e.g.:
</I>&gt;<i> 
</I>&gt;<i> can-ems-pci 0000:00:18.0: Channel #2 at C507E600, irq 12
</I>&gt;<i> 
</I>&gt;<i> Wolfgang.
</I>
- --
Mit freundlichen Gruessen/Best Regards,

Sebastian Haas
Software Entwicklung/Software Development

Phone: +49-9451-9432-22
Fax  : +49-9451-9432-12
Email: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">haas at ems-wuensche.com</A>
Web  : www.ems-wuensche.com
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.6 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFH9LUfpqRB8PJG7XwRAui/AJ9MHle3GvrltOxW88dsptL79jwU1gCfcO82
gRDtyQQ5fmYmKZyvQM2rwzc=
=hWT8
-----END PGP SIGNATURE-----

-- 
EMS Dr. Thomas Wuensche e.K.
Sonnenhang 3
85304 Ilmmuenster
HRA Neuburg a.d. Donau, HR-Nr. 70.106
Phone: +49-8441-490260
Fax  : +49-8441-81860
<A HREF="http://www.ems-wuensche.com">http://www.ems-wuensche.com</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ems_pci_fixed.patch
Type: text/x-diff
Size: 13082 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-core/attachments/20080403/cf01ffa1/attachment.patch">https://lists.berlios.de/pipermail/socketcan-core/attachments/20080403/cf01ffa1/attachment.patch</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001149.html">[PATCH] EMS CPC-PCI/PCIe reworked
</A></li>
	<LI>Next message: <A HREF="001151.html">[PATCH] EMS CPC-PCI/PCIe reworked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1150">[ date ]</a>
              <a href="thread.html#1150">[ thread ]</a>
              <a href="subject.html#1150">[ subject ]</a>
              <a href="author.html#1150">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
