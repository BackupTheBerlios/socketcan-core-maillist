<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20v2%5D%20sja1000_isa%3A%20legacy%20driver%20for%20SJA1000%20on%20the%20ISA%20bus&In-Reply-To=%3C4A3A127C.3040403%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002708.html">
   <LINK REL="Next"  HREF="002713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%20v2%5D%20sja1000_isa%3A%20legacy%20driver%20for%20SJA1000%20on%20the%20ISA%20bus&In-Reply-To=%3C4A3A127C.3040403%40hartkopp.net%3E"
       TITLE="[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus">socketcan at hartkopp.net
       </A><BR>
    <I>Thu Jun 18 12:10:04 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002708.html">[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus
</A></li>
        <LI>Next message: <A HREF="002713.html">[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2712">[ date ]</a>
              <a href="thread.html#2712">[ thread ]</a>
              <a href="subject.html#2712">[ subject ]</a>
              <a href="author.html#2712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang Grandegger wrote:
&gt;<i> This patch adds support for legacy SJA1000 CAN controllers on the ISA
</I>&gt;<i> or PC-104 bus. The I/O port or memory address and the IRQ number must
</I>&gt;<i> be specified via module parameters:
</I>&gt;<i> 
</I>&gt;<i>   insmod sja1000_isa.ko port=0x310,0x380 irq=7,11
</I>&gt;<i> 
</I>&gt;<i> for memory mapped ISA devices or:
</I>&gt;<i> 
</I>&gt;<i>   insmod sja1000_isa.ko mem=0xd1000,0xd1000 irq=7,11
</I>&gt;<i> 
</I>&gt;<i> Indirect access via address and data port is supported as well:
</I>&gt;<i> 
</I>&gt;<i>   insmod sja1000_isa.ko port=0x310,0x380 indirect=1 irq=7,11
</I>&gt;<i> 
</I>
Successfully tested with a PEAK PC104 dual port card with

insmod ./sja1000_isa.ko port=0x2c0,0x320 irq=10,5

Tested-by: Oliver Hartkopp &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">oliver at hartkopp.net</A>&gt;

@Khurram : Can you check if it works with your Eurotech COM1273 with

insmod ./sja1000_isa.ko port=0x200,0x204 irq=10,11 indirect=1


The only missing thing would be to compile the new 'ip' executable from the
iproute2 tool to set the bitrate correctly before you can set the CAN
interface 'up'.

Regards,
Oliver

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002708.html">[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus
</A></li>
	<LI>Next message: <A HREF="002713.html">[PATCH v2] sja1000_isa: legacy driver for SJA1000 on the ISA bus
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2712">[ date ]</a>
              <a href="thread.html#2712">[ thread ]</a>
              <a href="subject.html#2712">[ subject ]</a>
              <a href="author.html#2712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
