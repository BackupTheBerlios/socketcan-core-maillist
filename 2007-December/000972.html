<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Local Echo (Loopback)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Local%20Echo%20%28Loopback%29&In-Reply-To=%3C1197618725.3537.12.camel%40pc-mob-grv-deb%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000969.html">
   <LINK REL="Next"  HREF="000988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Local Echo (Loopback)</H1>
    <B>Vladislav Gribov</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Local%20Echo%20%28Loopback%29&In-Reply-To=%3C1197618725.3537.12.camel%40pc-mob-grv-deb%3E"
       TITLE="Local Echo (Loopback)">gribov at ixxat.de
       </A><BR>
    <I>Fri Dec 14 08:52:02 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000969.html">Local Echo (Loopback)
</A></li>
        <LI>Next message: <A HREF="000988.html">Local Echo (Loopback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#972">[ date ]</a>
              <a href="thread.html#972">[ thread ]</a>
              <a href="subject.html#972">[ subject ]</a>
              <a href="author.html#972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2007-12-13 at 14:03 +0100, Wolfgang Grandegger wrote:
&gt;<i> Hi Oliver,
</I>&gt;<i> 
</I>&gt;<i> in the old/sja1000.c there is code to perform local echo/loop back. Here
</I>&gt;<i> is comment for it:
</I>&gt;<i> 
</I>&gt;<i> /*
</I>&gt;<i>  * CAN network devices *should* support a local echo functionality
</I>&gt;<i>  * (see Documentation/networking/can.txt). To test the handling of CAN
</I>&gt;<i>  * interfaces that do not support the local echo both driver types are
</I>&gt;<i>  * implemented inside this sja1000 driver. In the case that the driver does
</I>&gt;<i>  * not support the echo the IFF_ECHO remains clear in dev-&gt;flags.
</I>&gt;<i>  * This causes the PF_CAN core to perform the echo as a fallback solution.
</I>&gt;<i>  */
</I>&gt;<i> 
</I>&gt;<i> I think this should go to the common dev.c as well do avoid code
</I>&gt;<i> duplication?
</I>&gt;<i> 
</I>&gt;<i> What do you think.
</I>

Yes. Additional to the code duplication issue the sharing of code by
different can drivers make it less possible for drivers to behave in
different way in some standard situations.

A correlated question (sorry if it has been already
discussed/clarified): timestamps for received and echoed CAN messages.
Timestamp may be very helpful for traffic analysis and keeping right
message order. If HW supports generating timestamp, the driver shall
provide it. But in case the HW do not provides any timestamp, some
common method may be used and it may be implemented in dev.c .

Regards,
Vladislav.

-- 
Mit freundlichen Gr&#252;&#223;en / Kind regards,
Dipl.-Ing. Vladislav Gribov MSc
Development
--------------------------------------------
IXXAT Automation GmbH
Leibnizstr. 15, 88250 Weingarten, Germany
Phone  +49-751-56146-0
Direct +49-751-56146-162
Fax    +49-751-56146-29
mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">gribov at ixxat.de</A>
<A HREF="http://www.ixxat.de">http://www.ixxat.de</A>
--------------------------------------------
PRIVILEGED AND CONFIDENTIAL.
Any unauthorized use or disclosure
is strictly prohibited.
--------------------------------------------
Sitz der Gesellschaft: Weingarten
Handelsregister Ulm HRB 551905
Gesch&#228;ftsf&#252;hrer:
Christian Schlegel, Sieglinde Etschberger
--------------------------------------------

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000969.html">Local Echo (Loopback)
</A></li>
	<LI>Next message: <A HREF="000988.html">Local Echo (Loopback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#972">[ date ]</a>
              <a href="thread.html#972">[ thread ]</a>
              <a href="subject.html#972">[ subject ]</a>
              <a href="author.html#972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
