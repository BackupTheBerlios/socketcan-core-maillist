<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Self-reception and more
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Self-reception%20and%20more&In-Reply-To=%3C166589D0B9DD2547A1319599B9BADA1F53ACA7%40vsv-exchange.ixxat.intranet.priv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004658.html">
   <LINK REL="Next"  HREF="004662.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Self-reception and more</H1>
    <B>gribov at ixxat.de</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Self-reception%20and%20more&In-Reply-To=%3C166589D0B9DD2547A1319599B9BADA1F53ACA7%40vsv-exchange.ixxat.intranet.priv%3E"
       TITLE="Self-reception and more">gribov at ixxat.de
       </A><BR>
    <I>Wed Sep 22 16:16:50 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004658.html">Self-reception and more
</A></li>
        <LI>Next message: <A HREF="004662.html">Self-reception and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4660">[ date ]</a>
              <a href="thread.html#4660">[ thread ]</a>
              <a href="subject.html#4660">[ subject ]</a>
              <a href="author.html#4660">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Kurt,

&gt;&gt;<i> In CANopen this is requesting PDO over RTR request. One PDO may have
</I>&gt;&gt;<i> several consumer, so several CAN nodes may send CAN message with same 
</I>&gt;&gt;<i> ID and data length (by the way, this may happen also with LSS messages).
</I>&gt;&gt;<i> So, now we are sending RTR request for some PDO and want to make timeout
</I>&gt;&gt;<i> monitoring
</I>&gt;<i> Is this legal on CAN?
</I>
I will put it like this:
It is at least legal in CANopen to sent CAN message with same CAN ID
from different CAN nodes as long as control field, RTR and data are the 
same. From CAN point of view, if several CAN transmitter will win the
arbitration and send absolutely the same data, those CAN massages will 
perfectly overlap in the single CAN message without having any bit 
errors.


&gt;&gt;<i> on it. But, if another node (just another PDO consumer) will send
</I>&gt;&gt;<i> simultaneously &gt;&gt; exactly the same CAN message, we may get &quot;alien&quot; 
</I>&gt;&gt;<i> message before our own is looped back.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> This is why it is important to have per-message self reception flag.
</I>&gt;&gt;<i> or the possibility to &quot;mark&quot; the message on transmission and then 
</I>&gt;&gt;<i> look for this mark on reception to identify looped back messages 
</I>&gt;&gt;<i> exactly.
</I>&gt;<i> For self-received messages, the originating socket (sk_buff-&gt;sk) is 
</I>&gt;<i> set. I think it's only accessible in kernel. Using this would IMO 
</I>&gt;<i> avoid adding code in difficult places, and limit such feature to 
</I>&gt;<i> adding code in easy places.
</I>
Hmm, the sk_buff-&gt;sk for the message is like motherland for the 
person?
So the self-reception messages are the &quot;fellow citizens&quot; and the
rest are foreigners? 8)
Well, this can be surely used for distinguishing between self-
reception messages and the rest, however it is still not possible to 
trace the order in a way like you can do by the mean of labeling the 
messages with some incrementing counter.


Regards,
Vladislav

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004658.html">Self-reception and more
</A></li>
	<LI>Next message: <A HREF="004662.html">Self-reception and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4660">[ date ]</a>
              <a href="thread.html#4660">[ thread ]</a>
              <a href="subject.html#4660">[ subject ]</a>
              <a href="author.html#4660">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
