<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [RFC 4/4] [powerpc] Implement a p1010rdb clock source.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BRFC%204/4%5D%20%5Bpowerpc%5D%20Implement%20a%20p1010rdb%20clock%20source.&In-Reply-To=%3C20110806205010.GQ4926%40sgi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005896.html">
   <LINK REL="Next"  HREF="005871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[RFC 4/4] [powerpc] Implement a p1010rdb clock source.</H1>
    <B>Robin Holt</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BRFC%204/4%5D%20%5Bpowerpc%5D%20Implement%20a%20p1010rdb%20clock%20source.&In-Reply-To=%3C20110806205010.GQ4926%40sgi.com%3E"
       TITLE="[RFC 4/4] [powerpc] Implement a p1010rdb clock source.">holt at sgi.com
       </A><BR>
    <I>Sat Aug  6 22:50:10 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="005896.html">[RFC 5/5] [powerpc] Implement a p1010rdb clock source.
</A></li>
        <LI>Next message: <A HREF="005871.html">[RFC 4/4] [powerpc] Implement a p1010rdb clock source.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5866">[ date ]</a>
              <a href="thread.html#5866">[ thread ]</a>
              <a href="subject.html#5866">[ subject ]</a>
              <a href="author.html#5866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Aug 06, 2011 at 11:52:45AM -0500, Kumar Gala wrote:
&gt;<i> 
</I>&gt;<i> On Aug 6, 2011, at 8:58 AM, Marc Kleine-Budde wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On 08/06/2011 06:05 AM, Robin Holt wrote:
</I>&gt;<i> &gt;&gt; flexcan driver needs the clk_get, clk_get_rate, etc functions
</I>&gt;<i> &gt;&gt; to work.  This patch provides the minimum functionality.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This patch has to go via the powerpc git tree. Added
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">linuxppc-dev at lists.ozlabs.org</A> on CC.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt;&gt; Signed-off-by: Robin Holt &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">holt at sgi.com</A>&gt;
</I>&gt;<i> &gt;&gt; To: Marc Kleine-Budde &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">mkl at pengutronix.de</A>&gt;
</I>&gt;<i> &gt;&gt; To: Wolfgang Grandegger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">wg at grandegger.com</A>&gt;
</I>&gt;<i> &gt;&gt; To: U Bhaskar-B22300 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">B22300 at freescale.com</A>&gt;
</I>&gt;<i> &gt;&gt; Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">socketcan-core at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">netdev at vger.kernel.org</A>
</I>&gt;<i> &gt;&gt; ---
</I>&gt;<i> &gt;&gt; arch/powerpc/platforms/85xx/p1010rdb.c |   78 ++++++++++++++++++++++++++++++++
</I>&gt;<i> &gt;&gt; 1 files changed, 78 insertions(+), 0 deletions(-)
</I>&gt;<i> 
</I>&gt;<i> NAK.
</I>&gt;<i> 
</I>&gt;<i> This doesn't look right at all.  We should be doing something based on the device tree node that isn't board specific.
</I>&gt;<i> 
</I>&gt;<i> I believe Bhaskar has a version of flexcan support that he's been working on cleanup up for upstream.
</I>
That version may be similar to what is in the freescale BSP which puts
the clock functions inside flexcan.c

The powerpc arch already provides a means for individual boards to provide
the clock functions.  I am not posting this patch here for acceptance
for powerpc and I am sure I will get feedback there when I post to
their mailing list.  I am posting it here only to show that the flexcan
developers earlier assertion that this can and should be done in the arch
tree is correct and will work for the p1010 assuming we can get changes
into the arch/powerpc directory to implement these clk_* functions.

Thanks,
Robin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005896.html">[RFC 5/5] [powerpc] Implement a p1010rdb clock source.
</A></li>
	<LI>Next message: <A HREF="005871.html">[RFC 4/4] [powerpc] Implement a p1010rdb clock source.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5866">[ date ]</a>
              <a href="thread.html#5866">[ thread ]</a>
              <a href="subject.html#5866">[ subject ]</a>
              <a href="author.html#5866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
