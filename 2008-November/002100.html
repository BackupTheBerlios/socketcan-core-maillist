<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> REC and TEC
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20REC%20and%20TEC&In-Reply-To=%3Ccabda6420811190650v15b32afdub90806f6acbdd752%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002107.html">
   <LINK REL="Next"  HREF="002103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>REC and TEC</H1>
    <B>christian pellegrin</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20REC%20and%20TEC&In-Reply-To=%3Ccabda6420811190650v15b32afdub90806f6acbdd752%40mail.gmail.com%3E"
       TITLE="REC and TEC">chripell at gmail.com
       </A><BR>
    <I>Wed Nov 19 15:50:33 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002107.html">REC and TEC
</A></li>
        <LI>Next message: <A HREF="002103.html">REC and TEC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2100">[ date ]</a>
              <a href="thread.html#2100">[ thread ]</a>
              <a href="subject.html#2100">[ subject ]</a>
              <a href="author.html#2100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Nov 19, 2008 at 2:58 PM, Claudio Lanconelli
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">lanconelli.claudio at eptar.com</A>&gt; wrote:
&gt;&gt;<i> For what CAN controller? Is the above reporting not enough?
</I>&gt;<i>
</I>&gt;<i> MCP2515
</I>&gt;<i>
</I>&gt;<i> I'll try to add REC and TEC in data[5] and data[6] of error frames.
</I>&gt;<i> If I understand well data[5..7] are free for any additional controller
</I>&gt;<i> specific information.
</I>&gt;<i>
</I>
Hi,

MCP251x driver should already generate an error frame if
warning/passive/buss-off conditions are triggered (each of these
corresponds to an increasing number of REC/TECs). So if you see an
error frame you know that a given number of errors has happened (you
can look-up for the number in the data-sheet). I think that the best
way for having access to these counters is with an entry somewhere in
sysfs or procfs. Otherwise you have to poll the registers in kernel
space and send the error frame from that polling routine.

-- 
Christian Pellegrin, see <A HREF="http://www.evolware.org/chri/">http://www.evolware.org/chri/</A>
&quot;Real Programmers don't play tennis, or any other sport which requires
you to change clothes. Mountain climbing is OK, and Real Programmers
wear their climbing boots to work in case a mountain should suddenly
spring up in the middle of the computer room.&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002107.html">REC and TEC
</A></li>
	<LI>Next message: <A HREF="002103.html">REC and TEC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2100">[ date ]</a>
              <a href="thread.html#2100">[ thread ]</a>
              <a href="subject.html#2100">[ subject ]</a>
              <a href="author.html#2100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
