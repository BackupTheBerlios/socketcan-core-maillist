<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> More on bit time setting and calculation...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484CE53F.4030602%40volkswagen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001329.html">
   <LINK REL="Next"  HREF="001334.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>More on bit time setting and calculation...</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484CE53F.4030602%40volkswagen.de%3E"
       TITLE="More on bit time setting and calculation...">oliver.hartkopp at volkswagen.de
       </A><BR>
    <I>Mon Jun  9 10:09:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001329.html">More on bit time setting and calculation...
</A></li>
        <LI>Next message: <A HREF="001334.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1330">[ date ]</a>
              <a href="thread.html#1330">[ thread ]</a>
              <a href="subject.html#1330">[ subject ]</a>
              <a href="author.html#1330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Schwebel wrote:
&gt;<i> On Mon, Jun 09, 2008 at 09:33:26AM +0200, Oliver Hartkopp wrote:
</I>&gt;&gt;<i> The can_btregs is (and remains) for experts.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And can_bitrate should provide a simple interface, that
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - calculates a bitrate with a simple(!) algorithm
</I>&gt;&gt;<i> - uses a build-in table (maybe for different clocks) if available
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> That was exactly the reasoning behind our code. If nobody has set
</I>&gt;<i> special values for a bitrate, the heuristics determines a parameter set.
</I>&gt;<i> At the time we implemented the code, it was done with ioctl()s, but it
</I>&gt;<i> surely can easily be ported to a sysfs interface.
</I>&gt;<i>   
</I>
This should not be the problem.

&gt;<i> I suppose the main question here is &quot;btregs vs. standard model&quot;.
</I>&gt;<i>
</I>&gt;<i>   
</I>
I don't think so. 'btregs' could always be an expert API parallel to any 
other idea.

My only concerns are that we need to provide bitrate calculation 
algorithms for each controller driver and have tons of slightly 
duplicated code in the kernel.

If you could say:  &quot;There is an algorithm that can be used for +95% of 
the CAN controllers.&quot; This would be perfectly fine.

Is it like this from your perspective?

Oliver.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001329.html">More on bit time setting and calculation...
</A></li>
	<LI>Next message: <A HREF="001334.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1330">[ date ]</a>
              <a href="thread.html#1330">[ thread ]</a>
              <a href="subject.html#1330">[ subject ]</a>
              <a href="author.html#1330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
