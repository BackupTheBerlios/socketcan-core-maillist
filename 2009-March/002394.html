<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> SJA1000 NAPI driver?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20NAPI%20driver%3F&In-Reply-To=%3C20090313140152.GC3649%40local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002393.html">
   <LINK REL="Next"  HREF="002395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>SJA1000 NAPI driver?</H1>
    <B>Hans J. Koch</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20SJA1000%20NAPI%20driver%3F&In-Reply-To=%3C20090313140152.GC3649%40local%3E"
       TITLE="SJA1000 NAPI driver?">hjk at linutronix.de
       </A><BR>
    <I>Fri Mar 13 15:01:53 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002393.html">Socketcan-core Digest, Vol 31, Issue 10
</A></li>
        <LI>Next message: <A HREF="002395.html">SJA1000 NAPI driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2394">[ date ]</a>
              <a href="thread.html#2394">[ thread ]</a>
              <a href="subject.html#2394">[ subject ]</a>
              <a href="author.html#2394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm running some tests with an SJA1000, using 1MBit/s and short messages with
just 1 data byte. Such a packet is about 40us long, which gives you the
possibility to generate more than 20000 interrupts/sec. At such rates I lose
quite a lot of packets.

I think that in such situations, it would be nice if sja1000 (or any other
socket can driver) were a NAPI driver and could switch to polling mode,
reducing the irq load of the system. Furthermore, it could implement its
own rx queue, reducing the risk of losing packets.

Has this already been discussed?
Did anyone work on an SJA1000 NAPI driver?

Thanks,
Hans


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002393.html">Socketcan-core Digest, Vol 31, Issue 10
</A></li>
	<LI>Next message: <A HREF="002395.html">SJA1000 NAPI driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2394">[ date ]</a>
              <a href="thread.html#2394">[ thread ]</a>
              <a href="subject.html#2394">[ subject ]</a>
              <a href="author.html#2394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
