<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> More on bit time setting and calculation...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484C31D6.2080707%40hartkopp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001323.html">
   <LINK REL="Next"  HREF="001324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>More on bit time setting and calculation...</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484C31D6.2080707%40hartkopp.net%3E"
       TITLE="More on bit time setting and calculation...">socketcan at hartkopp.net
       </A><BR>
    <I>Sun Jun  8 21:24:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001323.html">More on bit time setting and calculation...
</A></li>
        <LI>Next message: <A HREF="001324.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1319">[ date ]</a>
              <a href="thread.html#1319">[ thread ]</a>
              <a href="subject.html#1319">[ subject ]</a>
              <a href="author.html#1319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Schwebel wrote:
&gt;<i> On Sun, Jun 08, 2008 at 08:55:27PM +0200, Wolfgang Grandegger wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Do we have already reached consensus on dropping hardware independent
</I>&gt;&gt;<i> setting in favor of setting btregs directly?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> No, what was the argument here?
</I>&gt;<i>
</I>&gt;<i> If I remember correctly, we have agreed on using the model from the
</I>&gt;<i> standard, which uses
</I>&gt;<i>
</I>&gt;<i> bitrate
</I>&gt;<i> tq
</I>&gt;<i> err
</I>&gt;<i> prop_seg
</I>&gt;<i> phase_seg1
</I>&gt;<i> phase_seg2
</I>&gt;<i> sjw
</I>&gt;<i> sam
</I>&gt;<i>
</I>&gt;<i> and was once implemented by a patch from Juergen.
</I>&gt;<i>
</I>&gt;<i>   
</I>
There had been many reasons for this:

1. It turned out to be a very complex topic for different controllers 
with specific originalities and specific (broken) clock sources.

2. There is no reason good to put bitrate specialized calculations into 
kernel source (and maybe different algos for different controllers and 
different user opinions).

I want to beware all of us to have these algo discussions on netdev-ML. 
And things that could be handled easily with a userspace tool should 
definitely reside in the userspace. So all the specialists out there can 
have fun with their specific homebrew and tuned bitrate algos.

Btw. we decided to implement a 'non-expert' bitrate calculation for 
non-expert users. But not all the prop_seg stuff ...

So you just have

[1] simple bitrate calculation (maybe overruled by bitrate tables that 
are compiled-in or set at runtime)
[2] btreg settings (for specialists)

It would be nice if you could just go to the appropriate discussion in 
the mailinglist archive.

Regards,
Oliver




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001323.html">More on bit time setting and calculation...
</A></li>
	<LI>Next message: <A HREF="001324.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1319">[ date ]</a>
              <a href="thread.html#1319">[ thread ]</a>
              <a href="subject.html#1319">[ subject ]</a>
              <a href="author.html#1319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
