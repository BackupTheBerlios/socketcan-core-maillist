<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> RFC: common rx-probe feature
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20common%20rx-probe%20feature&In-Reply-To=%3C472AD817.6090005%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000797.html">
   <LINK REL="Next"  HREF="000795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>RFC: common rx-probe feature</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20common%20rx-probe%20feature&In-Reply-To=%3C472AD817.6090005%40grandegger.com%3E"
       TITLE="RFC: common rx-probe feature">wg at grandegger.com
       </A><BR>
    <I>Fri Nov  2 08:56:07 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000797.html">r533 - trunk/kernel/2.6/net/can
</A></li>
        <LI>Next message: <A HREF="000795.html">mcp251x driver for review 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#794">[ date ]</a>
              <a href="thread.html#794">[ thread ]</a>
              <a href="subject.html#794">[ subject ]</a>
              <a href="author.html#794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

in the SJA1000 driver I realized the rx-probe feature. It starts the CAN
controller in listen-only mode and switches to normal mode (including
TX) when the first message has been received. This feature might be of
interest for other CAN controllers as well. If yes, we need a generic
interface. Here a few questions:

- What is it currently used for? Baud-rate detection?

- Should or could it be done on the application level (= no need to do
  it in the driver)

For a common interface we need a CAN controller feature and state:

  #define CAN_CTRLMODE_RXPROBE   0x3

  #define CAN_STATE_RXPROBE               ?

There is already:

  #define CAN_STATE_SCANNING_BAUDRATE     4

but I cannot remember, what and especially how it's going to be used. I
think it could be used for rx-probing as well.

Any comments?

Wolfgang.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000797.html">r533 - trunk/kernel/2.6/net/can
</A></li>
	<LI>Next message: <A HREF="000795.html">mcp251x driver for review 
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#794">[ date ]</a>
              <a href="thread.html#794">[ thread ]</a>
              <a href="subject.html#794">[ subject ]</a>
              <a href="author.html#794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
