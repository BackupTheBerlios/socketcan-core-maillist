<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%202/2%5D%20MSCAN%3A%20adapting%20the%20driver%20rto%20the%20revised%20device%0A%09interface&In-Reply-To=%3C46A73A87.30300%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000551.html">
   <LINK REL="Next"  HREF="000555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%202/2%5D%20MSCAN%3A%20adapting%20the%20driver%20rto%20the%20revised%20device%0A%09interface&In-Reply-To=%3C46A73A87.30300%40grandegger.com%3E"
       TITLE="[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface">wg at grandegger.com
       </A><BR>
    <I>Wed Jul 25 13:56:55 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000551.html">[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface
</A></li>
        <LI>Next message: <A HREF="000555.html">[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#553">[ date ]</a>
              <a href="thread.html#553">[ thread ]</a>
              <a href="subject.html#553">[ subject ]</a>
              <a href="author.html#553">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oliver Hartkopp wrote:
&gt;<i> Wolfgang Grandegger wrote:
</I>&gt;&gt;<i> +	dev-&gt;type = ARPHRD_CAN;
</I>&gt;&gt;<i> +	dev-&gt;hard_header_len = 0;
</I>&gt;&gt;<i> +	dev-&gt;mtu = sizeof(struct can_frame);
</I>&gt;&gt;<i> +	dev-&gt;addr_len = 0;
</I>&gt;&gt;<i> +	dev-&gt;tx_queue_len = 10;
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> -	ndev-&gt;flags = IFF_NOARP;
</I>&gt;&gt;<i> -	ndev-&gt;features = NETIF_F_NO_CSUM;
</I>&gt;&gt;<i> +	dev-&gt;flags = IFF_NOARP;
</I>&gt;&gt;<i> +	dev-&gt;features = NETIF_F_NO_CSUM;
</I>&gt;&gt;<i>   
</I>&gt;<i> 
</I>&gt;<i> As written in the answer to Simon these settings are already done in can_setup() which is invoked by alloc_candev(). Right?
</I>&gt;<i> 
</I>&gt;<i> The rest looks fine to me.
</I>
OK, I have just committed the patches for MSCAN driver. It's now aligned 
with recent changes to the CAN device interface and it builds fine (out 
of the kernel) with Linux 2.6.22 and runs well on my Icecube MPC5200 
eval board.

Wolfgang.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000551.html">[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface
</A></li>
	<LI>Next message: <A HREF="000555.html">[PATCH 2/2] MSCAN: adapting the driver rto the revised device	interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#553">[ date ]</a>
              <a href="thread.html#553">[ thread ]</a>
              <a href="subject.html#553">[ subject ]</a>
              <a href="author.html#553">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
