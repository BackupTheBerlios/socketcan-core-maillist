<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Interrupt flooding with bus errors
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Interrupt%20flooding%20with%20bus%20errors&In-Reply-To=%3C44A91D6D.9000702%40varma-el.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000249.html">
   <LINK REL="Next"  HREF="000223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Interrupt flooding with bus errors</H1>
    <B>Andrey Volkov</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Interrupt%20flooding%20with%20bus%20errors&In-Reply-To=%3C44A91D6D.9000702%40varma-el.com%3E"
       TITLE="Interrupt flooding with bus errors">avolkov at varma-el.com
       </A><BR>
    <I>Mon Jul  3 15:36:45 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000249.html">Interrupt flooding with bus errors
</A></li>
        <LI>Next message: <A HREF="000223.html">Transceiver link - was Re: [PATCH 02/03] mscan_now_library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#222">[ date ]</a>
              <a href="thread.html#222">[ thread ]</a>
              <a href="subject.html#222">[ subject ]</a>
              <a href="author.html#222">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang Grandegger wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> the bus error interrupt (BEI) on the SJA1000 can easily flood the
</I>&gt;<i> system with interrupts (looping in the ISR). Does anyone have a clever
</I>&gt;<i> idea how to handle it? Should we define an extra state and error code
</I>&gt;<i> for it, e.g. CAN_STATE_IRQ_FLOODED and leave it up to the user to
</I>&gt;<i> restart when the problem is fixed?
</I>&gt;<i>
</I>&gt;<i> Wolfgang.
</I>&gt;<i> _______________________________________________
</I>If such situation occurred due to high CAN traffic, than napi/pooling
could be helpful (check my mscan driver).
And may be some terrible hack, like disabling interrupts on some time
(like 1ms).
If it due to missed pull up resistor on INT pin of SJA than ... :).
Meanwhile any user-notifications about such problem will be useless
since processor will be locked.

Andrey





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000249.html">Interrupt flooding with bus errors
</A></li>
	<LI>Next message: <A HREF="000223.html">Transceiver link - was Re: [PATCH 02/03] mscan_now_library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#222">[ date ]</a>
              <a href="thread.html#222">[ thread ]</a>
              <a href="subject.html#222">[ subject ]</a>
              <a href="author.html#222">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
