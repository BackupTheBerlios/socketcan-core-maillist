<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Single-shot transmission mode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Single-shot%20transmission%20mode&In-Reply-To=%3C1191575986.4029.64.camel%40golem.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000728.html">
   <LINK REL="Next"  HREF="000731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Single-shot transmission mode</H1>
    <B>Chris Elston</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Single-shot%20transmission%20mode&In-Reply-To=%3C1191575986.4029.64.camel%40golem.home%3E"
       TITLE="Single-shot transmission mode">celston at katalix.com
       </A><BR>
    <I>Fri Oct  5 11:19:46 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000728.html">Single-shot transmission mode
</A></li>
        <LI>Next message: <A HREF="000731.html">Single-shot transmission mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> &gt; As you wrote you can split up the communication in an 'address claim 
</I>&gt;<i> &gt; phase' and a 'normal bus transfer' phase. For that reason, i would _not_ 
</I>&gt;<i> &gt; assume these phases to toggle rapidly (at least i assume them to switch 
</I>&gt;<i> &gt; one time: on and off). To solve this problem, you just could check in 
</I>&gt;<i> &gt; which mode the CAN-frame has to be sent and to switch the appropriate 
</I>&gt;<i> &gt; mode in the CAN-controller, if it's not already in that mode. This 
</I>&gt;<i> &gt; should be necessary only two times in the address claim phase then.
</I>
If this were the case, it would be necessary to flush any pending
frames, reconfigure the device, send the single-shot frame, and then
undo the configuration.  During this period it would be necessary to
ensure no other users of the device sent any frames, because they would
be sent single-shot, potentially against the wishes of the user.  This
would need some device mutual exclusion at a higher level.  I think if
the hardware is capable of sending one frame in single-shot mode (which
is true in the mcp251x case), then the driver should support that.

Cheers,

Chris.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000728.html">Single-shot transmission mode
</A></li>
	<LI>Next message: <A HREF="000731.html">Single-shot transmission mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#719">[ date ]</a>
              <a href="thread.html#719">[ thread ]</a>
              <a href="subject.html#719">[ subject ]</a>
              <a href="author.html#719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
