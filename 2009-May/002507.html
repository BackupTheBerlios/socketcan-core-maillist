<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> New PCI driver: preferred way to set baudrate?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20New%20PCI%20driver%3A%20preferred%20way%20to%20set%20baudrate%3F&In-Reply-To=%3C4A0BD66D.7010303%40volkswagen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002512.html">
   <LINK REL="Next"  HREF="002516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>New PCI driver: preferred way to set baudrate?</H1>
    <B>Oliver Hartkopp</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20New%20PCI%20driver%3A%20preferred%20way%20to%20set%20baudrate%3F&In-Reply-To=%3C4A0BD66D.7010303%40volkswagen.de%3E"
       TITLE="New PCI driver: preferred way to set baudrate?">oliver.hartkopp at volkswagen.de
       </A><BR>
    <I>Thu May 14 10:29:33 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002512.html">New PCI driver: preferred way to set baudrate?
</A></li>
        <LI>Next message: <A HREF="002516.html">[PATCH v2 3/7] [PATCH 3/8] can: CAN Network device driver and	Netlink interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2507">[ date ]</a>
              <a href="thread.html#2507">[ thread ]</a>
              <a href="subject.html#2507">[ subject ]</a>
              <a href="author.html#2507">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thomas K&#246;rper wrote:
&gt;&gt;&gt;<i> But to have the sysfs file I also have to set a can.bittiming_const etc.
</I>&gt;&gt;&gt;<i> All that tq, tseg1_min,... stuff is not needed/usable.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> I don't think so. &quot;priv-&gt;do_set_bittiming&quot; is called even if
</I>&gt;&gt;<i> priv-&gt;bittiming_const==NULL. Have a look to
</I>&gt;&gt;<i> drivers/net/can/dev.c:can_set_bittiming().
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> OK, my point was the missing sysfs entry. sysfs.c:can_create_sysfs()
</I>&gt;<i>
</I>&gt;<i> I don't know how a user can invoke such a call without writing to the 
</I>&gt;<i> .../can_bittiming/bitrate file :)
</I>&gt;<i>
</I>&gt;<i>   
</I>
Hi Thomas,

if you only want another interface that sysfs you might try to use the 
patches for the netlink interface posted by Wolfgang recently.

The settings are made with the netlink API there (using syscalls from 
your C-application - e.g. from iproute2 package).

Regards,
Oliver


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002512.html">New PCI driver: preferred way to set baudrate?
</A></li>
	<LI>Next message: <A HREF="002516.html">[PATCH v2 3/7] [PATCH 3/8] can: CAN Network device driver and	Netlink interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2507">[ date ]</a>
              <a href="thread.html#2507">[ thread ]</a>
              <a href="subject.html#2507">[ subject ]</a>
              <a href="author.html#2507">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
