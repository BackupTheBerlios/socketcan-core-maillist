<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] Driver for esd CAN cards
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20Driver%20for%20esd%20CAN%20cards&In-Reply-To=%3C4A13B14F.7020608%40esd.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002538.html">
   <LINK REL="Next"  HREF="002540.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] Driver for esd CAN cards</H1>
    <B>Thomas K&#246;rper</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20Driver%20for%20esd%20CAN%20cards&In-Reply-To=%3C4A13B14F.7020608%40esd.eu%3E"
       TITLE="[PATCH] Driver for esd CAN cards">thomas.koerper at esd.eu
       </A><BR>
    <I>Wed May 20 09:29:19 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002538.html">[PATCH] Driver for esd CAN cards
</A></li>
        <LI>Next message: <A HREF="002540.html">[PATCH] Driver for esd CAN cards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2539">[ date ]</a>
              <a href="thread.html#2539">[ thread ]</a>
              <a href="subject.html#2539">[ subject ]</a>
              <a href="author.html#2539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wolfgang,

&gt;&gt;<i>  &gt;&gt; &gt; What about using msleep_interruptible(), and, when interrupted,
</I>&gt;&gt;<i>  &gt;&gt; &gt; return an error to esd331_pci_init_one() and let it return that it failed?
</I>&gt;&gt;<i>  &gt;
</I>&gt;&gt;<i>  &gt; Does that mean that the insmod blocks for about 3.5 seconds and
</I>&gt;&gt;<i>  &gt; interrupting with ^C may abort the reset?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Yes.
</I>&gt;<i> 
</I>&gt;<i> No way to avoid that, at least after the boot? After hardware reset, the
</I>&gt;<i> esd331 resets as well, which should be complete when Linux is up and
</I>&gt;<i> loading the driver, right?
</I>
Right, at first load after boot we don't need that. But when module is
unloaded and loaded again?
(We need the messages that the board copies to its fifo after reset)

What about doing the reset when the module is unloaded?

	Thomas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002538.html">[PATCH] Driver for esd CAN cards
</A></li>
	<LI>Next message: <A HREF="002540.html">[PATCH] Driver for esd CAN cards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2539">[ date ]</a>
              <a href="thread.html#2539">[ thread ]</a>
              <a href="subject.html#2539">[ subject ]</a>
              <a href="author.html#2539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
