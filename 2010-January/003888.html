<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> CAN Controller Chip selection
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20CAN%20Controller%20Chip%20selection&In-Reply-To=%3Ccabda6421001182304w82e332ay6ca5fc1306368088%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003887.html">
   <LINK REL="Next"  HREF="003889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>CAN Controller Chip selection</H1>
    <B>christian pellegrin</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20CAN%20Controller%20Chip%20selection&In-Reply-To=%3Ccabda6421001182304w82e332ay6ca5fc1306368088%40mail.gmail.com%3E"
       TITLE="CAN Controller Chip selection">chripell at gmail.com
       </A><BR>
    <I>Tue Jan 19 08:04:33 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="003887.html">CAN Controller Chip selection
</A></li>
        <LI>Next message: <A HREF="003889.html">CAN Controller Chip selection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3888">[ date ]</a>
              <a href="thread.html#3888">[ thread ]</a>
              <a href="subject.html#3888">[ subject ]</a>
              <a href="author.html#3888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 18, 2010 at 8:40 AM, Brian Murphy &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">brm at thrane.com</A>&gt; wrote:
&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I can back this up. We have decided not to use mcp2515 because of packet
</I>&gt;<i> loss
</I>&gt;<i> on our board.
</I>&gt;<i>
</I>
Hi,

out of curiosity what architecture have you worked on? With the
mcp2515 there are good chances that you can keep up with a full stream
(because of the 10 mhz SPI interface and, most important, the ability
to send an entire Rxed CAN packet  in a row).

Anyway I fully support Wolfgang's claims about performance.
Unfortunately the SPI infrastructure is rather critical and on some
architectures it's just plain bad. For example on S3C24XX setting DMA
up takes ages and the shift register is 1 byte deep for IRQ mode, so
the best option you have is just wait every single transfer to finish
with an overall decrease in processor throughput. Another problem is
that the best SPI drivers aren't always in the kernel mainline.

As far as the mcp251x driver is concerned, now that it is in the
mainline, I'm looking forward to substitute worqueues with threaded
interrupts (which is something we all have to get used to sooner or
later) and adding hardware level CAN-address filtering. Both of these
could make it more useful.

-- 
Christian Pellegrin, see <A HREF="http://www.evolware.org/chri/">http://www.evolware.org/chri/</A>
&quot;Real Programmers don't play tennis, or any other sport which requires
you to change clothes. Mountain climbing is OK, and Real Programmers
wear their climbing boots to work in case a mountain should suddenly
spring up in the middle of the computer room.&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003887.html">CAN Controller Chip selection
</A></li>
	<LI>Next message: <A HREF="003889.html">CAN Controller Chip selection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3888">[ date ]</a>
              <a href="thread.html#3888">[ thread ]</a>
              <a href="subject.html#3888">[ subject ]</a>
              <a href="author.html#3888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
