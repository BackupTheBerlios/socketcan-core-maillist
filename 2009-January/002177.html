<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> mcp251x.ko not exposing can0 when ifup or ifconfig is used.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mcp251x.ko%20not%20exposing%20can0%20when%20ifup%20or%20ifconfig%20is%20used.&In-Reply-To=%3C359518.84489.qm%40web110702.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002175.html">
   <LINK REL="Next"  HREF="002178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>mcp251x.ko not exposing can0 when ifup or ifconfig is used.</H1>
    <B>krj</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mcp251x.ko%20not%20exposing%20can0%20when%20ifup%20or%20ifconfig%20is%20used.&In-Reply-To=%3C359518.84489.qm%40web110702.mail.gq1.yahoo.com%3E"
       TITLE="mcp251x.ko not exposing can0 when ifup or ifconfig is used.">krjaz at yahoo.com
       </A><BR>
    <I>Thu Jan 29 03:18:03 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002175.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
        <LI>Next message: <A HREF="002178.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2177">[ date ]</a>
              <a href="thread.html#2177">[ thread ]</a>
              <a href="subject.html#2177">[ subject ]</a>
              <a href="author.html#2177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I am seeing all the console messages and getting no errors.
lsmod is show

Module                   Size        Used by
mcp251x                 14116        0
can_dev                 18336        1 mcp251x


What do you mean that the SPI subsystem does not run the probing function?
How does mcp251x know that my controller is using a certain pin on the microprocesser or does it automatically plug into the spi bus?  
Could it be that my board layout is not conventional and the manufacturer has selected the wrong pin that is not associated with the spi bus?

--- On Tue, 1/27/09, christian pellegrin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">chripell at gmail.com</A>&gt; wrote:

&gt;<i> From: christian pellegrin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">chripell at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">krjaz at yahoo.com</A>
</I>&gt;<i> Cc: &quot;Wolfgang Grandegger&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">wg at grandegger.com</A>&gt;, <A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">socketcan-core at lists.berlios.de</A>
</I>&gt;<i> Date: Tuesday, January 27, 2009, 10:55 PM
</I>&gt;<i> On Tue, Jan 27, 2009 at 9:33 PM, krj &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/socketcan-core">krjaz at yahoo.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Testing...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; dmesg shows the following after boot and before
</I>&gt;<i> loading mcp251x
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; vcan: Virtual CAN interface driver
</I>&gt;<i> &gt; can: controller area network core (rev 20071116 abi 8)
</I>&gt;<i> &gt; can: raw protocol (rev 200711116)
</I>&gt;<i> &gt; can: broadcast manager protocol (rev 20071116)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ifconfig -&gt; shows no can0
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> if you look at the mcp251x code you can see that you should
</I>&gt;<i> at least
</I>&gt;<i> see a message &quot;probe failed&quot; if some reason the
</I>&gt;<i> driver cannot
</I>&gt;<i> initialize itself (or a message &quot;probed&quot; if
</I>&gt;<i> it's all right). So I
</I>&gt;<i> guess that, for some reason, the SPI subsystem doesn't
</I>&gt;<i> run the probing
</I>&gt;<i> function. Just to be sure you see all the messages on the
</I>&gt;<i> console do
</I>&gt;<i> something like &quot;echo 100 &gt;
</I>&gt;<i> /proc/sys/kernel/printk&quot;
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Christian Pellegrin, see <A HREF="http://www.evolware.org/chri/">http://www.evolware.org/chri/</A>
</I>&gt;<i> &quot;Real Programmers don't play tennis, or any other
</I>&gt;<i> sport which requires
</I>&gt;<i> you to change clothes. Mountain climbing is OK, and Real
</I>&gt;<i> Programmers
</I>&gt;<i> wear their climbing boots to work in case a mountain should
</I>&gt;<i> suddenly
</I>&gt;<i> spring up in the middle of the computer room.&quot;
</I>

      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002175.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
	<LI>Next message: <A HREF="002178.html">mcp251x.ko not exposing can0 when ifup or ifconfig is used.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2177">[ date ]</a>
              <a href="thread.html#2177">[ thread ]</a>
              <a href="subject.html#2177">[ subject ]</a>
              <a href="author.html#2177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
