<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Local Echo (Loopback)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Local%20Echo%20%28Loopback%29&In-Reply-To=%3C47627D6D.506%40volkswagen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000986.html">
   <LINK REL="Next"  HREF="000993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Local Echo (Loopback)</H1>
    <B>Hartkopp, Oliver (K-GEFE/E)</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Local%20Echo%20%28Loopback%29&In-Reply-To=%3C47627D6D.506%40volkswagen.de%3E"
       TITLE="Local Echo (Loopback)">oliver.hartkopp at volkswagen.de
       </A><BR>
    <I>Fri Dec 14 13:56:13 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000986.html">Local Echo (Loopback)
</A></li>
        <LI>Next message: <A HREF="000993.html">Local Echo (Loopback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#987">[ date ]</a>
              <a href="thread.html#987">[ thread ]</a>
              <a href="subject.html#987">[ subject ]</a>
              <a href="author.html#987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hans-J&#252;rgen Koch wrote:
&gt;&gt;&gt;<i> Currently you have the appropriate network interface flag
</I>&gt;&gt;&gt;<i> (IFF_ECHO) you can retrieve from the 'flags' sysfs entry of your
</I>&gt;&gt;&gt;<i> device.
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;<i> If IFF_ECHO is set, the driver supports the local loopback on
</I>&gt;&gt;&gt;<i> driver level. Would this be enough for your needs?
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i> Hmm. It would be nice to have EXACT_LOOPBACK and UNPRECISE_LOOPBACK.
</I>&gt;<i>   
</I>
IFF_ECHO means EXACT_LOOPBACK ;-)

If EFF_ECHO is not set and a CAN frame needs to be looped back this is 
done by the PF_CAN core, which is definitely a UNPRECISE_LOOPBACK ...

&gt;<i> The first would guarantee that packets are pushed to the RX queue
</I>&gt;<i> immediately after they are physically sent, the latter won't.
</I>&gt;<i>   
</I>
That's exactly the intention and the implementation. E.g. when you have 
a CAN Adapter attached via a serial line (e.g. with the slcan-driver) 
you'll never get a TX acknowledge from these kind of low-cost adapters. 
And then the the PF_CAN core does the job for you (see can_send() in 
af_can.c or you might also look into vcan.c).

Regards,
Oliver.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000986.html">Local Echo (Loopback)
</A></li>
	<LI>Next message: <A HREF="000993.html">Local Echo (Loopback)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#987">[ date ]</a>
              <a href="thread.html#987">[ thread ]</a>
              <a href="subject.html#987">[ subject ]</a>
              <a href="author.html#987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
