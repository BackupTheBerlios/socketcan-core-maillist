<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> error active (CAN_ERR_CRTL / CAN_ERR_CRTL_UNSPEC) not indicated	in	rev1181
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20error%20active%20%28CAN_ERR_CRTL%20/%20CAN_ERR_CRTL_UNSPEC%29%20not%20indicated%0A%09in%09rev1181&In-Reply-To=%3C166589D0B9DD2547A1319599B9BADA1F3ACA66%40vsv-exchange.ixxat.intranet.priv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004416.html">
   <LINK REL="Next"  HREF="004446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>error active (CAN_ERR_CRTL / CAN_ERR_CRTL_UNSPEC) not indicated	in	rev1181</H1>
    <B>gribov at ixxat.de</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20error%20active%20%28CAN_ERR_CRTL%20/%20CAN_ERR_CRTL_UNSPEC%29%20not%20indicated%0A%09in%09rev1181&In-Reply-To=%3C166589D0B9DD2547A1319599B9BADA1F3ACA66%40vsv-exchange.ixxat.intranet.priv%3E"
       TITLE="error active (CAN_ERR_CRTL / CAN_ERR_CRTL_UNSPEC) not indicated	in	rev1181">gribov at ixxat.de
       </A><BR>
    <I>Sun Jun 20 12:45:54 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="004416.html">[PATCH 0/5] general improvement of can-calc-bit-timing
</A></li>
        <LI>Next message: <A HREF="004446.html">error active (CAN_ERR_CRTL / CAN_ERR_CRTL_UNSPEC) not indicated	in	rev1181
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4445">[ date ]</a>
              <a href="thread.html#4445">[ thread ]</a>
              <a href="subject.html#4445">[ subject ]</a>
              <a href="author.html#4445">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Wolfgang,

&gt;&gt;<i> I expect to get the bus error recovery event also over the
</I>CAN_ERR_CRTL 
&gt;&gt;<i> event class, because we deal here with CAN controller state change 
</I>&gt;&gt;<i> (currently I am pretty sure that I do not get anything on error
</I>&gt;&gt;<i> recovery,
</I>&gt;&gt;<i> not even CAN_ERR_RESTARTED).
</I>&gt;<i>
</I>&gt;<i>I'm pretty sure that you get CAN_ERR_RESTARTED with a recent version of
</I>&gt;<i>Socket-CAN. If not, it's a bug.
</I>
OK, will recheck that.



&gt;&gt;<i> CAN_ERR_PROT_ACTIVE and CAN_ERR_RESTARTED are another classes of
</I>events,
&gt;&gt;<i> so
</I>&gt;&gt;<i> I think it is conceptually not the right way to signal error recovery
</I>&gt;&gt;<i> over
</I>&gt;&gt;<i> that events.
</I>&gt;<i>
</I>&gt;<i>The CAN_ERR_RESTARTED was introduced for that purpose but I agree that
</I>&gt;<i>the CAN error state change should be signaled to the user as well. What
</I>&gt;<i>do you think about signaling *any* state change to the user, not just
</I>&gt;<i>when the state gets worse?
</I>
Well, I don't see any reason to tell the user only the bad news 8)
Our CANopen Stack (as an example of the user application) cares also
about 
resuming from error state.

Regards,
Vladislav


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004416.html">[PATCH 0/5] general improvement of can-calc-bit-timing
</A></li>
	<LI>Next message: <A HREF="004446.html">error active (CAN_ERR_CRTL / CAN_ERR_CRTL_UNSPEC) not indicated	in	rev1181
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4445">[ date ]</a>
              <a href="thread.html#4445">[ thread ]</a>
              <a href="subject.html#4445">[ subject ]</a>
              <a href="author.html#4445">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
