<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> mkpatch script in branches/cannetdriver26 - was:	r758	-	branches/cannetdriver26
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mkpatch%20script%20in%20branches/cannetdriver26%20-%20was%3A%0A%09r758%09-%09branches/cannetdriver26&In-Reply-To=%3C48513078.5010400%40grandegger.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001515.html">
   <LINK REL="Next"  HREF="001528.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>mkpatch script in branches/cannetdriver26 - was:	r758	-	branches/cannetdriver26</H1>
    <B>Wolfgang Grandegger</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20mkpatch%20script%20in%20branches/cannetdriver26%20-%20was%3A%0A%09r758%09-%09branches/cannetdriver26&In-Reply-To=%3C48513078.5010400%40grandegger.com%3E"
       TITLE="mkpatch script in branches/cannetdriver26 - was:	r758	-	branches/cannetdriver26">wg at grandegger.com
       </A><BR>
    <I>Thu Jun 12 16:19:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001515.html">mkpatch script in branches/cannetdriver26 - was: r758	-	branches/cannetdriver26
</A></li>
        <LI>Next message: <A HREF="001528.html">mkpatch script in branches/cannetdriver26 - was: r758-	branches/cannetdriver26
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1518">[ date ]</a>
              <a href="thread.html#1518">[ thread ]</a>
              <a href="subject.html#1518">[ subject ]</a>
              <a href="author.html#1518">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang Grandegger wrote:
&gt;<i> Robert Schwebel wrote:
</I>&gt;&gt;<i> On Thu, Jun 12, 2008 at 11:32:43AM +0200, Wolfgang Grandegger wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> What would be the purpose of this script? Would it do the same than
</I>&gt;&gt;&gt;&gt;&gt;<i> mkpatch but splitting it up in a series of patches? We don't need that!
</I>&gt;&gt;<i> Generate a patch series for the latest and greatest socketcan.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I know that you guys love code archaelogy, but I'm really only
</I>&gt;&gt;<i> interested in the latest and greatest.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Yes, and it should work for old and new kernels (with the CAN core
</I>&gt;&gt;&gt;<i> included) if all files are properly included and it can then replace
</I>&gt;&gt;&gt;<i> mkpatch at all.
</I>&gt;&gt;<i> Someone could even generate new patch lists, corresponding to the kernel
</I>&gt;&gt;<i> versions. Anyway, not *my* focus.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Note that these patches can not be used for kernel inclusion because
</I>&gt;&gt;&gt;<i> of the missing dependencies.
</I>&gt;&gt;<i> Why? Which missing dependencies? The series shall be done in a way that
</I>&gt;&gt;<i> it's order specifies the mainline order. May not be finished in all
</I>&gt;&gt;<i> details, but that's the idea.
</I>&gt;<i> 
</I>&gt;<i> For example, each driver adds some lines to a common Kconfig and
</I>&gt;<i> Makefile, which belongs to the driver patch. It's not acceptable to
</I>&gt;<i> collect them all together in a separate Kconfig or Makefile patch.
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Yes. For the kernel inclusion we want do work on the SVN trunk and
</I>&gt;&gt;&gt;<i> after some modification we need to re-generate a usable patch series
</I>&gt;&gt;&gt;<i> to be checked in.
</I>&gt;&gt;<i> That's the plan. The script shall make it easy to extract the current
</I>&gt;&gt;<i> berlios code into a postable and working patch series.
</I>&gt;<i> 
</I>&gt;<i> Yes, but we need to do some special tricks. I understand well why Urs
</I>&gt;<i> maintained his own patch stack.
</I>
I have attached the result of some afternoon hacking. The relevant parts
of the Makefile and Kconfig files are attached to the corresponding
files in the kernel using some markup in the SVN sources. See attached
patch. What do you think? It has still some limitation, but it should
work for our purpose.

Wolfgang.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: markup-for-mkpatch.patch
Type: text/x-patch
Size: 1992 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-core/attachments/20080612/ef4e761e/attachment.bin">https://lists.berlios.de/pipermail/socketcan-core/attachments/20080612/ef4e761e/attachment.bin</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: mkpatch-series-dev
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-core/attachments/20080612/ef4e761e/attachment.ksh">https://lists.berlios.de/pipermail/socketcan-core/attachments/20080612/ef4e761e/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001515.html">mkpatch script in branches/cannetdriver26 - was: r758	-	branches/cannetdriver26
</A></li>
	<LI>Next message: <A HREF="001528.html">mkpatch script in branches/cannetdriver26 - was: r758-	branches/cannetdriver26
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1518">[ date ]</a>
              <a href="thread.html#1518">[ thread ]</a>
              <a href="subject.html#1518">[ subject ]</a>
              <a href="author.html#1518">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
