<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Setting CAN bit rate in HW-independent way
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2007-October/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Setting%20CAN%20bit%20rate%20in%20HW-independent%20way&In-Reply-To=%3C4704AB6B.9020309%40pengutronix.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000694.html">
   <LINK REL="Next"  HREF="000695.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Setting CAN bit rate in HW-independent way</H1>
    <B>Marc Kleine-Budde</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20Setting%20CAN%20bit%20rate%20in%20HW-independent%20way&In-Reply-To=%3C4704AB6B.9020309%40pengutronix.de%3E"
       TITLE="Setting CAN bit rate in HW-independent way">mkl at pengutronix.de
       </A><BR>
    <I>Thu Oct  4 10:59:23 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000694.html">Setting CAN bit rate in HW-independent way
</A></li>
        <LI>Next message: <A HREF="000695.html">no svn commit mails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Vladislav Gribov wrote:

&gt;<i> Ok, got your point. 
</I>&gt;<i> I think it is up to application which timings to configure. The driver
</I>&gt;<i> shall configure the bit timings application asks to, even if they are
</I>&gt;<i> not optimal. Or do you think driver shall have some strickt rules to
</I>&gt;<i> check the relations between segments/SJW?
</I>&gt;<i> 
</I>&gt;<i> How can CAN driver signal that the requested bit timings are not
</I>&gt;<i> possible and some over bit timing has been calculated from &quot;bitrate&quot;?
</I>&gt;<i> 
</I>&gt;<i> What if the requested &quot;bitrate&quot; is also not possible (eg 200 kbit/s was
</I>&gt;<i> requested for the interface supporting set of CiA bitrates)?
</I>
I thought we could add a &quot;maximal allowed error&quot; variable to the struct, 
with a special value e.g. -1 to force the baudrate.

The framework can convert quanta with the clockrate to brp and calculate 
the error, if the error is geater than the maximal allowed error we 
could bail out with a special errno value.

Marc

-- 
  Dipl.-Ing. Marc Kleine-Budde | <A HREF="http://www.pengutronix.de">http://www.pengutronix.de</A>
   Pengutronix - Linux Solutions for Science and Industry
     Handelsregister: Amtsgericht Hildesheim, HRA 2686
             Vertretung West/Dortmund, Germany
     Phone: +49-231-2826-924 |  Fax: +49-5121-206917-9

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000694.html">Setting CAN bit rate in HW-independent way
</A></li>
	<LI>Next message: <A HREF="000695.html">no svn commit mails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#697">[ date ]</a>
              <a href="thread.html#697">[ thread ]</a>
              <a href="subject.html#697">[ subject ]</a>
              <a href="author.html#697">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
