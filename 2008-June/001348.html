<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> More on bit time setting and calculation...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/socketcan-core/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484CF9C1.1090204%40pengutronix.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001339.html">
   <LINK REL="Next"  HREF="001346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>More on bit time setting and calculation...</H1>
    <B>Marc Kleine-Budde</B> 
    <A HREF="mailto:socketcan-core%40lists.berlios.de?Subject=Re%3A%20More%20on%20bit%20time%20setting%20and%20calculation...&In-Reply-To=%3C484CF9C1.1090204%40pengutronix.de%3E"
       TITLE="More on bit time setting and calculation...">mkl at pengutronix.de
       </A><BR>
    <I>Mon Jun  9 11:37:05 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001339.html">More on bit time setting and calculation...
</A></li>
        <LI>Next message: <A HREF="001346.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1348">[ date ]</a>
              <a href="thread.html#1348">[ thread ]</a>
              <a href="subject.html#1348">[ subject ]</a>
              <a href="author.html#1348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Wolfgang Grandegger wrote:
&gt;<i> Robert Schwebel wrote:
</I>&gt;&gt;<i> On Mon, Jun 09, 2008 at 10:09:35AM +0200, Oliver Hartkopp wrote:
</I>&gt;&gt;&gt;&gt;<i> I suppose the main question here is &quot;btregs vs. standard model&quot;.
</I>&gt;&gt;&gt;<i> I don't think so. 'btregs' could always be an expert API parallel to
</I>&gt;&gt;&gt;<i> any other idea.
</I>&gt;&gt;<i> But isn't the 'standard model' thing adressing the same problem, but in
</I>&gt;&gt;<i> a chip-independend way?
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> My only concerns are that we need to provide bitrate calculation
</I>&gt;&gt;&gt;<i> algorithms for each controller driver and have tons of slightly
</I>&gt;&gt;&gt;<i> duplicated code in the kernel.
</I>&gt;&gt;<i> Our current solution doesn't *need* the calculation algorithm. If a
</I>&gt;&gt;<i> controller provides one, fine. If not, you can still build in a
</I>&gt;&gt;<i> (module compile-time) pre-defined table or feed in your own one from
</I>&gt;&gt;<i> /etc/network/interfaces.
</I>&gt;<i> 
</I>&gt;<i> Ah, you refer to:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/socketcan-core/2007-October/000715.html">https://lists.berlios.de/pipermail/socketcan-core/2007-October/000715.html</A>
</I>&gt;<i> 
</I>&gt;<i> That would indeed not be very sophisticated. But we can not simply
</I>&gt;<i> implement it with SYSFS but need configfs (or whatever). It would also
</I>&gt;<i> be possible to define CIA recommended values with that format.
</I>
This patch was &quot;just&quot; a proposal in the time where everything workes w/
IOCTLs

The only backdraw I can think of is:

If the controller cannot generate the requested time quanta exactly
there is an error. The other values like seg1, seg2 and so on are given
as multiple of time quanta, so the error multiplies. There might be the
case, where seg1 + 1 or seg1 -1 gives less error than the original seg1
value.

regards, Marc

-- 
 Marc Kleine-Budde              Phone: +49-231-2826-924
 Pengutronix - Linux Solutions for Science and Industry
 Vertretung West/Dortmund     <A HREF="http://www.pengutronix.de">http://www.pengutronix.de</A>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 252 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/socketcan-core/attachments/20080609/758bf628/attachment.pgp">https://lists.berlios.de/pipermail/socketcan-core/attachments/20080609/758bf628/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001339.html">More on bit time setting and calculation...
</A></li>
	<LI>Next message: <A HREF="001346.html">More on bit time setting and calculation...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1348">[ date ]</a>
              <a href="thread.html#1348">[ thread ]</a>
              <a href="subject.html#1348">[ subject ]</a>
              <a href="author.html#1348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/socketcan-core">More information about the Socketcan-core
mailing list</a><br>
</body></html>
